{"version":3,"sources":["img/logo.svg","img/logo-vigdis-white-is.png","img/logo-vigdis-white-fr.png","components/AutocompleteInput.js","components/ToggleSwitch.js","config.js","islexHelper.js","components/SearchBox.js","components/OrdVikunnar.js","components/PageView.js","components/Frontpage.js","components/TermItemView.js","components/TermView.js","components/SearchResultsItem.js","components/SearchSuggestion.js","components/CollapsibleCard.js","components/SearchResultsList.js","components/LangMenu.js","components/PageMenu.js","components/TermIndexList.js","components/SimilarTerms.js","components/TermViewContainer.js","components/StickyWatcher.js","components/SiteFooter.js","components/ContactForm.js","components/ContactFormWrapper.js","components/GoogleAnalytics.js","App.js","serviceWorker.js","lang/Lang.js","index.js"],"names":["module","exports","__webpack_require__","p","AutocompleteInput","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","inputValueChangeHandler","bind","assertThisInitialized","inputBlurHandler","inputFocusHandler","inputKeyDownHandler","state","defineProperty","inputValue","value","data","listIndex","setState","event","cancelled","persist","target","onChange","name","inputName","indexOf","inputStrings","split","searchValue","length","fetchData","keyCode","valueField","assignInputValue","disableAutoFill","onItemSelect","onEnter","setTimeout","onFocus","ret","inputValues","join","item","dataItem","str","waitingForFetch","minChars","fetch","searchUrl","replace","then","response","json","responseDataField","dataFormatFunc","catch","ex","console","log","items","map","index","_React$createElement","react_default","a","createElement","href","key","className","selectedItemClass","preventDefault","itemClickHandler","listLabelFormatFunc","document","body","classList","add","remove","ref","inputClassName","type","onBlur","onKeyDown","placeholder","headerText","dangerouslySetInnerHTML","__html","Component","ToggleSwitch","onClick","checked","label","config","siteTitle","site","pageSize","apiRoot","process","islexRoot","audioUrl","imageUrl","defaultLang","gaTrackingId","islexHelper","tungumal","FRA","code","TYS","langCodes","specialChars","getIslexLangCode","lang","formatOfl","ofl","currentLang","window","toLowerCase","islexData","oflTrans","oflObj","_","findWhere","mal","title","trofl2","trofl","firstLetterUpperCase","charAt","toUpperCase","slice","SearchBox","inputKeyPressHandler","inputChangeHandler","executeSearch","formatAutocompleteListItems","searchBoxItemSelectHandler","documentKeyDownHandler","searchBoxInput","textaleitInput","stateObj","searchString","refs","searchInput","inputField","focus","prevProps","prevState","stateChanged","leitarsvid","isChar","activeElement","selectedLang","localStorage","getItem","history","push","flid","select","merking","pluck","where","teg","react_router_dom","to","fletta","Fragment","fklanguage","word","ordabankiData","dictionaries","fkdictionary","specialCharLinks","char","selectionStart","selectionEnd","components_AutocompleteInput","l","components_ToggleSwitch","withRouter","OrdVikunnar","url","ok","found","results","PageView","htmlContentClickHandler","languageChangedHandler","initialized","location","eventBus","addEventListener","pathname","willRefresh","htmlContainer","tables","getElementsByTagName","i","match","protocol","RegExp","http:","https:","host","anchorName","substr","linkEl","closest","linkUrl","getAttribute","scrollToAnchor","isExternal","scrollTo","path","siteLang","notFound","html","formatHtml","content","Frontpage","components_PageView","components_OrdVikunnar","TermItemView","audioFormats","texti","Math","floor","itid","controls","format","src","audioControl","load","play","padding","Array","el","lastTeg","subItems","pitems","pitem","termItemView","startsWith","endsWith","data-type","data-itid","renderAudioEl","linkText","linkFrags","e","getImageUrl","style","maxWidth","daemiTranslation","displayLang","TagName","skil","firstLevel","titleText","visunUrl","visunLink","formatUrlFrag","urlFrag","isNaN","visunParts","visunUrlFrags","visunLinkFrags","visunFrags","border","TermView","rnumEl","rnum","Boolean","missingTranslation","stuttbeyg","components_TermItemView","undefined","SearchResultsItem","text","flettaEl","highlight","uniq","inner_hits","hitItem","_source","filter","_id","formatHighlightedText","width","display","ordmyndir","textItem","textItemText","rawHtmlText","SearchSuggestion","fetching","suggestion","SearchResultsList","listData","reactHistory","params","ordabok","order","page","urlParams","search","total","metadata","onSearch","paginationLinks","paginationUrl","currentPage","parseInt","aria-label","aria-hidden","aria-current","components_SearchResultsItem","components_SearchSuggestion","LangMenu","langEls","langList","IS","langMenuName","inline","PageMenu","exact","TermIndexList","windowResizeHandler","mobileWidth","innerWidth","removeEventListener","forceUpdate","SimilarTerms","fetchDelay","mounted","TermViewContainer","list","roots","paritem","listToTree","entry_id","find","formatResults","goToItem","element","querySelector","offsetTop","_this2","langButtons","_loop","setItem","components_TermView","components_SimilarTerms","components_TermIndexList","StictyWatcher","scrollHandler","extraClass","waitForNextCheck","getBoundingClientRect","y","stickyClassName","onStick","onUnstick","tagName","children","SiteFooter","alt","ContactForm","grecaptchaKey","apiUrl","formInputChangeHandler","sendButtonClickHandler","formData","sendandi","sendandi_netfang","sendandi_simanumer","skilabod","grecaptchaResponse","formSuccess","validationError","validateEmail","messageErrorText","emailErrorText","validateForm","formDataValues","FormData","prepareData","append","formId","method","mode","error","requestErrorText","success","grecaptchaCallback","initializeReCaptcha","reCaptchaInitialized","grcInit","grecaptcha","render","callback","hl","email","test","String","htmlFor","nameLabel","id","emailLabel","requirePhoneNumber","phoneLabel","messageLabel","rows","data-sitekey","disabled","sendButtonLabel","top","left","right","bottom","backgroundColor","takkHeading","takkText","ContactFormWrapper","components_ContactForm","GoogleAnalytics","_ref","gtag","action","pageViewData","page_title","page_location","page_path","React","App","EventBus","menuButtonClickHandler","fetchOflTranslations","searchParams","menuOpen","router","listen","checkCurrentLang","menuButton","contains","stopPropagation","menuContent","Lang","setCurrentLang","scrollTop","currentLangIcon","forEach","langCode","routes","react_router","component","strict","routeProps","components_SearchResultsList","assign","components_TermViewContainer","components_ContactFormWrapper","logo","logoVigdisFr","logoVigdisIs","components_PageMenu","StickyWatcher","components_SearchBox","components_LangMenu","hostname","langData","is","fr","de","collect","dispatch","fetchLangData","each","val","trans","get","phrase","traceLangGet","varArgs","TypeError","arguments","nextSource","nextKey","prototype","hasOwnProperty","writable","configurable","Promise","ReactDOM","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e238b8d8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.75007ccf.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo-vigdis-white-is.70ee28f6.png\";","module.exports = __webpack_public_path__ + \"static/media/logo-vigdis-white-fr.852afad2.png\";","import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\n\nclass AutocompleteInput extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.inputValueChangeHandler = this.inputValueChangeHandler.bind(this);\n\t\tthis.inputBlurHandler = this.inputBlurHandler.bind(this);\n\t\tthis.inputFocusHandler = this.inputFocusHandler.bind(this);\n\t\tthis.inputKeyDownHandler = this.inputKeyDownHandler.bind(this);\n\n\t\tthis.state = {\n\t\t\tinputValue: props.value || '',\n\t\t\tdata: [],\n\t\t\tlistIndex: -1,\n\t\t\tinputValue: ''\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps(props) {\n\t\tif (props.value != this.state.inputValue) {\n\t\t\tthis.setState({\n\t\t\t\tinputValue: props.value\n\t\t\t});\n\t\t}\n\t}\n\n\tinputValueChangeHandler(event) {\n\t\tthis.cancelled = false;\n\n\t\tevent.persist();\n\n\t\tif (event.target.value == '') {\n\t\t\tthis.setState({\n\t\t\t\tinputValue: '',\n\t\t\t\tdata: [],\n\t\t\t\tlistIndex: -1\n\t\t\t});\n\n\t\t\tif (this.props.onChange) {\n\t\t\t\tthis.props.onChange({\n\t\t\t\t\ttarget: {\n\t\t\t\t\t\tname: this.props.inputName || '',\n\t\t\t\t\t\tvalue: ''\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tthis.setState({\n\t\t\t\tinputValue: event.target.value\n\t\t\t}, function() {\n\t\t\t\tif (this.state.inputValue.indexOf(',') > -1) {\n\t\t\t\t\tvar inputStrings = this.state.inputValue.split(',');\n\t\t\t\t\tvar searchValue = inputStrings[inputStrings.length-1];\n\n\t\t\t\t\tif (searchValue != '') {\n\t\t\t\t\t\tthis.fetchData(searchValue);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.fetchData(this.state.inputValue);\n\t\t\t\t}\n\n\t\t\t\tif (this.props.onChange) {\n\t\t\t\t\tthis.props.onChange(event);\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t}\n\t}\n\n\tinputKeyDownHandler(event) {\n\t\tthis.cancelled = false;\n\n\t\tevent.persist();\n\n\t\tif (event.keyCode == 38 && this.props.valueField) { // upp\n\t\t\tif (this.state.listIndex > 0) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tlistIndex: this.state.listIndex-1,\n\t\t\t\t\tinputValue: this.assignInputValue(this.props.valueField ? this.state.data[this.state.listIndex-1][this.props.valueField] : this.state.data[this.state.listIndex-1])\n\t\t\t\t}, function() {\n\t\t\t\t\tif (this.props.onChange) {\n\t\t\t\t\t\tthis.props.onChange(event);\n\t\t\t\t\t}\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t}\n\t\tif (event.keyCode == 40 && !this.props.disableAutoFill) { // niur\n\t\t\tif (this.state.listIndex < this.state.data.length && this.state.data[this.state.listIndex+1]) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tlistIndex: this.state.listIndex+1,\n\t\t\t\t\tinputValue: this.assignInputValue(this.props.valueField ? this.state.data[this.state.listIndex+1][this.props.valueField] : this.state.data[this.state.listIndex+1])\n\t\t\t\t}, function() {\n\t\t\t\t\tif (this.props.onChange) {\n\t\t\t\t\t\tthis.props.onChange(event);\n\t\t\t\t\t}\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t}\n\t\tif (event.keyCode == 13) { // enter\n\t\t\tthis.cancelled = true;\n\n\t\t\tif (this.state.listIndex > -1 && !this.props.disableAutoFill) {\n\t\t\t\tif (this.props.onItemSelect) {\n\t\t\t\t\tthis.props.onItemSelect(this.state.data[this.state.listIndex])\n\t\t\t\t}\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tlistIndex: -1,\n\t\t\t\t\tdata: []\n\t\t\t\t}, function() {\n\t\t\t\t\tif (this.props.onEnter) {\n\t\t\t\t\t\tthis.props.onEnter();\n\t\t\t\t\t}\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.setState({\n\t\t\t\t\tlistIndex: -1,\n\t\t\t\t\tdata: []\n\t\t\t\t}, function() {\n\t\t\t\t\tif (this.props.onEnter) {\n\t\t\t\t\t\tthis.props.onEnter();\n\t\t\t\t\t}\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t}\n\n\t}\n\n\tinputBlurHandler() {\n\t\tthis.cancelled = true;\n\n\t\tsetTimeout(function() {\n\t\t\tthis.setState({\n\t\t\t\tdata: [],\n\t\t\t\tlistIndex: -1\n\t\t\t});\n\t\t}.bind(this), 200);\n\t}\n\n\tinputFocusHandler(event) {\n\t\tif (this.props.onFocus) {\n\t\t\tthis.props.onFocus(event);\n\t\t}\n\t}\n\n\tassignInputValue(value) {\n\t\tif (this.props.disableAutoFill) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar inputValue = this.state.inputValue;\n\n\t\tvar ret = '';\n\n\t\tif (inputValue.indexOf(',') > -1) {\n\t\t\tvar inputValues = inputValue.split(',');\n\t\t\tinputValues[inputValues.length-1] = value;\n\n\t\t\tret = inputValues.join(',');\n\t\t}\n\t\telse {\n\t\t\tret = value;\n\t\t}\n\t\treturn ret;\n\t}\n\n\titemClickHandler(item, dataItem) {\n\t\tif (this.props.onItemSelect) {\n\t\t\tthis.props.onItemSelect(dataItem)\n\t\t}\n\n\t\tthis.setState({\n\t\t\tinputValue: this.assignInputValue(item)\n\t\t}, function() {\n\t\t\tif (this.props.onChange) {\n\t\t\t\tthis.props.onChange({\n\t\t\t\t\ttarget: {\n\t\t\t\t\t\tname: this.props.inputName || '',\n\t\t\t\t\t\tvalue: this.state.inputValue\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}.bind(this));\n\t}\n\n\tfetchData(str) {\n\t\tif (this.waitingForFetch || (this.props.minChars && str.length < this.props.minChars)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.waitingForFetch = true;\n\n\t\tfetch(this.props.searchUrl.replace('$s', str))\n\t\t\t.then(function(response) {\n\t\t\t\treturn response.json()\n\t\t\t})\n\t\t\t.then(function(json) {\n\t\t\t\tif (!this.cancelled) {\n\t\t\t\t\tlet data = json[this.props.responseDataField || 'data'];\n\n\t\t\t\t\t// Hr er hgt a tilgreina fall sem srsnir ggnin\n\t\t\t\t\tif (this.props.dataFormatFunc) {\n\t\t\t\t\t\tdata = this.props.dataFormatFunc(data);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\tlistIndex: -1\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthis.waitingForFetch = false;\n\t\t\t}.bind(this))\n\t\t\t.catch(function(ex) {\n\t\t\t\tconsole.log('parsing failed', ex)\n\t\t\t})\n\t\t;\n\t}\n\n\trender() {\n\t\tvar items = this.state.data.map(function(item, index) {\n\t\t\treturn <a href=\"#\" key={index} className={'list-group-item item'+(this.state.listIndex == index ? ' '+(this.props.selectedItemClass || 'selected') : '')} \n\t\t\t\tkey={index} \n\t\t\t\tonClick={function(event) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tthis.itemClickHandler(this.props.valueField ? item[this.props.valueField] : item, item);\n\t\t\t\t}.bind(this)} >\n\t\t\t\t{\n\t\t\t\t\tthis.props.listLabelFormatFunc ? this.props.listLabelFormatFunc(item) : this.props.valueField ? item[this.props.valueField] : item\n\t\t\t\t}\n\t\t\t</a>\n\t\t}.bind(this));\n\n\t\tif (items.length > 0) {\n\t\t\tdocument.body.classList.add('autocomplete-open');\n\t\t}\n\t\telse {\n\t\t\tdocument.body.classList.remove('autocomplete-open');\n\t\t}\n\n\t\treturn <div ref=\"container\" className={'autocomplete-input'+(items.length > 0 ? ' open' : '')}>\n\t\t\t<input className={this.props.inputClassName} \n\t\t\t\tref=\"inputField\"\n\t\t\t\ttype=\"text\" \n\t\t\t\tname={this.props.inputName || ''}\n\t\t\t\tvalue={this.state.inputValue} \n\t\t\t\tonChange={this.inputValueChangeHandler}\n\t\t\t\tonBlur={this.inputBlurHandler}\n\t\t\t\tonFocus={this.inputFocusHandler}\n\t\t\t\tonKeyDown={this.inputKeyDownHandler}\n\t\t\t\tplaceholder={this.props.placeholder} />\n\t\t\t{\n\t\t\t\titems.length > 0 &&\n\t\t\t\t<div className=\"autocomplete-list list-group\">\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.props.headerText &&\n\t\t\t\t\t\t<div className=\"list-group-item list-group-item-light\">\n\t\t\t\t\t\t\t<small dangerouslySetInnerHTML={{__html: this.props.headerText}}></small>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t\t{items}\n\t\t\t\t</div>\n\t\t\t}\n\t\t</div>\n\t}\n}\n\nexport default AutocompleteInput;\n","import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\n\nclass ToggleSwitch extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={'toggle-switch '+(this.props.value ? 'switch-on' : 'switch-off')} onClick={function() {\n\t\t\t\tif (this.props.onChange) {\n\t\t\t\t\tthis.props.onChange({\n\t\t\t\t\t\ttarget: {\n\t\t\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\t\t\tname: this.props.name || '',\n\t\t\t\t\t\t\tchecked: !this.props.value\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}.bind(this)}>\n\t\t\t\t{\n\t\t\t\t\tthis.props.label &&\n\t\t\t\t\t<div className=\"label\">{this.props.label}</div>\n\t\t\t\t}\n\n\t\t\t\t<div className=\"switch\">\n\t\t\t\t\t<div className=\"button\"><span className=\"icon\" /></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ToggleSwitch;\n","export default {\n\tsiteTitle: 'LEXIA',\n\tsite: 'lexia',\n\tpageSize: 50,\n\n\tapiRoot: process.env.REACT_APP_API_ROOT,\n\t//apiRoot: 'http://130.208.178.119:8000',\n\t//islexRoot: 'http://130.208.178.119:8000',\n\tislexRoot: '//islex.arnastofnun.is/django',\n\n\taudioUrl: '//islex.arnastofnun.is/islex-files/audio/',\n\t//imageUrl: '//islex.arnastofnun.is/islex-files/myndir/',\n\timageUrl: '//ymsir.arnastofnun.is/lexia/myndir/',\n\n\tdefaultLang: 'FRA',\n\n\tgaTrackingId: 'G-24WKCEDYRW'\n}\n","import React, { Component } from 'react';\nimport _ from 'underscore';\n\nexport default {\n\ttungumal: {\n\t\t'FRA': {\n\t\t\tcode: 'fr',\n\t\t\tname: 'Franais'\n\t\t},\n\t\t'TYS': {\n\t\t\tcode: 'de',\n\t\t\tname: 'ska'\n\t\t}\n\t},\n\n\tlangCodes: [\n\t\t'is', 'fr', 'de'\n\t],\n\n\tspecialChars: [\n\t\t'', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''\n\t],\n\n\tgetIslexLangCode: function(lang) {\n\t\tfor (let key in this.tungumal) {\n\t\t\tif (this.tungumal[key].code == lang) {\n\t\t\t\treturn key;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t},\n\n\tformatOfl: function(ofl) {\n\t\tlet currentLang = window.currentLang.toLowerCase() || 'is';\n\n\t\tif (window.islexData && window.islexData.oflTrans) {\n\t\t\tlet oflObj = _.findWhere(window.islexData.oflTrans, {\n\t\t\t\tmal: currentLang,\n\t\t\t\tofl: ofl\n\t\t\t});\n\n\t\t\tif (oflObj) {\n\t\t\t\treturn <span className=\"ofl-ofl\" title={oflObj.trofl2}>{oflObj.trofl}</span>;\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn <span className=\"ofl-ofl\">{ofl}</span>;\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\treturn <span className=\"ofl-ofl\">{ofl}</span>;\n\t\t}\n\t},\n\n\tfirstLetterUpperCase: function(str) {\n\t\treturn str.charAt(0).toUpperCase()+str.slice(1);\n\t}\n}\n","import React, { Component } from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport AutocompleteInput from './AutocompleteInput';\nimport ToggleSwitch from './ToggleSwitch';\nimport _ from 'underscore';\n\nimport config from \"./../config\";\nimport islexHelper from \"./../islexHelper\";\n\nclass SearchBox extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.inputKeyPressHandler = this.inputKeyPressHandler.bind(this);\n\t\tthis.inputChangeHandler = this.inputChangeHandler.bind(this);\n\t\tthis.executeSearch = this.executeSearch.bind(this);\n\t\tthis.formatAutocompleteListItems = this.formatAutocompleteListItems.bind(this);\n\t\tthis.searchBoxItemSelectHandler = this.searchBoxItemSelectHandler.bind(this);\n\t\tthis.inputFocusHandler = this.inputFocusHandler.bind(this);\n\t\tthis.documentKeyDownHandler = this.documentKeyDownHandler.bind(this);\n\n\t\tthis.state = {\n\t\t\tsearchBoxInput: '',\n\t\t\ttextaleitInput: false\n\t\t};\n\t}\n\n\tinputKeyPressHandler(event) {\n\t\tif (event.key == 'Enter') {\n\t\t\tthis.executeSearch();\n\t\t}\n\t}\n\n\tinputChangeHandler(event) {\n\t\tlet value = event.target.type && event.target.type == 'checkbox' ? event.target.checked : event.target.value;\n\n\t\tvar stateObj = {};\n\n\t\tstateObj[event.target.name] = value;\n\n\t\tthis.setState(stateObj);\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.props.searchString) {\n\t\t\tthis.setState({\n\t\t\t\tsearchBoxInput: this.props.searchString\n\t\t\t});\n\t\t}\n\n\t\tthis.refs.searchInput.refs.inputField.focus();\n\n\t\tsetTimeout(function() {\n\t\t\tthis.inputFocusHandler();\n\t\t}.bind(this), 100);\n\n\t\t//document.addEventListener('keydown', this.documentKeyDownHandler);\n\t}\n\n\tcomponentWillUnmount() {\n\t\t//document.removeEventListener('keydown', this.documentKeyDownHandler);\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tlet stateObj = this.state;\n\t\tlet stateChanged = false;\n\n\t\tif (this.props.searchString != prevProps.searchString) {\n\t\t\tstateObj.searchBoxInput = this.props.searchString;\n\t\t\tstateChanged = true;\n\t\t}\n\n\t\tif (this.props.leitarsvid != prevProps.leitarsvid) {\n\t\t\tstateObj.textaleitInput = this.props.leitarsvid == 'texti';\n\t\t\tstateChanged = true;\n\t\t}\n\n\t\tif (stateChanged) {\n\t\t\tthis.setState(stateObj);\n\t\t}\n\t}\n\n\tdocumentKeyDownHandler(event) {\n\t\tvar isChar = (event.keyCode > 47 && event.keyCode < 58)   || // number keys\n\t\t\tevent.keyCode == 32 || event.keyCode == 13   || // spacebar & return key(s) (if you want to allow carriage returns)\n\t\t\t(event.keyCode > 64 && event.keyCode < 91)   || // letter keys\n\t\t\t(event.keyCode > 95 && event.keyCode < 112)  || // numpad keys\n\t\t\t(event.keyCode > 185 && event.keyCode < 193) || // ;=,-./` (in order)\n\t\t\t(event.keyCode > 218 && event.keyCode < 223);\n\n\t\tif (document.activeElement != this.refs.searchInput.refs.inputField && isChar) {\n\t\t\tthis.setState({\n\t\t\t\tsearchBoxInput: event.key\n\t\t\t});\n\t\t\tthis.refs.searchInput.refs.inputField.focus();\n\t\t}\n\t}\n\n\tsearchBoxItemSelectHandler(item) {\n\t\tlet selectedLang = localStorage.getItem('selected-lang') || 'FRA';\n\t\tlet currentLang = window.currentLang || 'is';\n\n\t\tthis.props.history.push('/'+currentLang+'/ord/'+item.flid+'/tungumal/'+selectedLang);\n\t}\n\n\tinputFocusHandler() {\n\t\tthis.refs.searchInput.refs.inputField.select();\n\t}\n\n\texecuteSearch() {\n\t\tlet currentLang = window.currentLang || 'is';\n\t\tthis.props.history.push('/'+currentLang+'/leit/'+this.state.searchBoxInput+(this.state.textaleitInput ? '/leitarsvid/texti' : ''));\n\t\tthis.refs.searchInput.refs.inputField.select();\n\t}\n\n\tformatAutocompleteListItems(item) {\n\t\tlet currentLang = window.currentLang || 'is';\n\t\t// Birting  orabkarfrslum  sprettiniurstum\n\t\tlet wordEls = [];\n\n\t\tlet merking = _.pluck(_.where(item.items, {teg: 'Z-MERKING'}), 'texti');\n\n\t\treturn  <div className=\"pt-2 pb-2\">\n\t\t\t\t<Link to={'/'+currentLang+'/ord/'+item.flid}><strong>{item.fletta}</strong></Link> {islexHelper.formatOfl(item.ofl)}\n\n\t\t\t\t{\n\t\t\t\t\tmerking.length > 0 &&\n\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmerking.map(function(merking, index) {\n\t\t\t\t\t\t\t\treturn <React.Fragment>\n\t\t\t\t\t\t\t\t\t<strong>{index+1}</strong>: {merking}\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tindex < merking.length-1 &&\n\t\t\t\t\t\t\t\t\t\t<span>, </span>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t</div>;\n\t}\n\n\t_formatAutocompleteListItems(item) {\n\t\t// Birting  orabkarfrslum  sprettiniurstum\n\t\tvar wordEls = [];\n\n\t\treturn  <div className=\"pt-2 pb-2 flex-column\">\n\t\t\t<span className=\"mt-3 d-flex w-100 justify-content-between\">\n\t\t\t\t<span><strong>{item.fklanguage.toLowerCase()}</strong>: {item.word}</span>\n\t\t\t\t<span className=\"text-right\"><em>{window.ordabankiData.dictionaries && window.ordabankiData.dictionaries[item.fkdictionary] ? window.ordabankiData.dictionaries[item.fkdictionary] : item.fkdictionary}</em></span>\n\t\t\t</span>\n\t\t</div>;\n\n\t\tif (item.words.length > 0) {\n\t\t\ttry {\n\t\t\t\twordEls = item.words.map(function(word, index) {\n\t\t\t\t\t// Srstk merking  ori sem passar vi a sem veri er a leita a\n\t\t\t\t\tlet wordEl = word.word.toLowerCase().indexOf(this.state.searchBoxInput.toLowerCase()) > -1 ? <React.Fragment key={index}><mark><strong>{word.fklanguage.toLowerCase()}</strong>: <u>{word.word}</u></mark> </React.Fragment> : <React.Fragment key={index}><strong>{word.fklanguage.toLowerCase()}</strong>: {word.word} </React.Fragment>;\n\t\t\t\t\treturn wordEl;\n\t\t\t\t}.bind(this));\n\t\t\t}\n\t\t\tcatch (e) {}\n\t\t}\n\n\t\treturn <div className=\"pt-2 pb-2 flex-column\">\n\t\t\t{\n\t\t\t\twordEls.length > 0 &&\n\t\t\t\t<span className=\"mt-3 d-flex w-100 justify-content-between\"><span>{wordEls}</span> <span className=\"text-right\"><em>{window.ordabankiData.dictionaries && window.ordabankiData.dictionaries[item.fkdictionary] ? window.ordabankiData.dictionaries[item.fkdictionary] : item.fkdictionary}</em></span></span>\n\t\t\t}\n\t\t</div>;\n\t}\n\n\trender() {\n\t\tlet specialCharLinks = islexHelper.specialChars.map(function(char) {\n\t\t\treturn <a key={char} onClick={function(event) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tsearchBoxInput: this.state.searchBoxInput+char\n\t\t\t\t}, function() {\n\t\t\t\t\tthis.refs.searchInput.refs.inputField.focus();\n\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tthis.refs.searchInput.refs.inputField.selectionStart = this.state.searchBoxInput.length;\n\t\t\t\t\t\tthis.refs.searchInput.refs.inputField.selectionEnd = this.state.searchBoxInput.length;\n\t\t\t\t\t}.bind(this), 1);\n\t\t\t\t}.bind(this));\n\t\t\t}.bind(this)}>{char}</a>\n\t\t}.bind(this));\n\n\t\treturn (\n\t\t\t<div className=\"form-group row\">\n\t\t\t\t<div className=\"col-9 col-sm-10 col-md-11\">\n\t\t\t\t\t<AutocompleteInput inputClassName=\"form-control\"\n\t\t\t\t\t\tref=\"searchInput\"\n\t\t\t\t\t\tresponseDataField=\"results\"\n\t\t\t\t\t\tsearchUrl={config.apiRoot+'/api/es/flettur/?fletta=$s*&simple=true'}\n\t\t\t\t\t\tonChange={this.inputChangeHandler}\n\t\t\t\t\t\tinputName=\"searchBoxInput\"\n\t\t\t\t\t\tvalue={this.state.searchBoxInput}\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tonEnter={this.executeSearch}\n\t\t\t\t\t\tonItemSelect={this.searchBoxItemSelectHandler}\n\t\t\t\t\t\tplaceholder={window.l('Leitaror')}\n\t\t\t\t\t\tminChars={2}\n\t\t\t\t\t\tvalueField=\"fletta\"\n\t\t\t\t\t\tselectedItemClass=\"active\"\n\t\t\t\t\t\tonFocus={this.inputFocusHandler}\n\t\t\t\t\t\tdisableAutoFill={false}\n\t\t\t\t\t\theaderText={'&nbsp;'}\n\t\t\t\t\t\tlistLabelFormatFunc={this.formatAutocompleteListItems}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"search-helpers\">{specialCharLinks}</div>\n\n\t\t\t\t\t<div className=\"form-check float-right\">\n\t\t\t\t\t\t<ToggleSwitch label={window.l('Leita  texta')} onChange={this.inputChangeHandler} name=\"textaleitInput\" value={this.state.textaleitInput} />\n\t\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\t/*\n\t\t\t\t\t<input name=\"searchBoxInput\"\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tplaceholder=\"Leit  orabanka\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={this.state.searchBoxInput}\n\t\t\t\t\t\tonKeyPress={this.inputKeyPressHandler}\n\t\t\t\t\t\tonChange={this.inputChangeHandler}\n\t\t\t\t\t/>\n\t\t\t\t\t*/\n\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-2 col-md-1\">\n\t\t\t\t\t<button onClick={this.executeSearch.bind(this)} className=\"btn btn-primary\">{window.l('Leita')}</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(SearchBox);\n","import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\n\nimport config from './../config';\nimport islexHelper from './../islexHelper';\n\nclass OrdVikunnar extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.url = config.apiRoot+'/api/vikuord/';\n\n\t\tthis.state = {\n\t\t\tdata: []\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.fetchData();\n\t}\n\n\tfetchData() {\n\t\tthis.setState({\n\t\t\tdata: []\n\t\t});\n\n\t\t// Ski ggn til APA\n\n\t\tfetch(this.url)\n\t\t\t.then(function(response) {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tfound: false\n\t\t\t\t\t})\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn response.json();\n\t\t\t\t}\n\t\t\t}.bind(this))\n\t\t\t.then(function(json) {\n\t\t\t\tif (json) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tfound: true,\n\t\t\t\t\t\tdata: json.results[0]\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t}\n\n\trender() {\n\t\tlet currentLang = window.currentLang || 'is';\n\n\t\tif (this.state.data) {\n\t\t\treturn (\n\t\t\t\t<div className=\"mt-4\">\n\t\t\t\t\t<h3>{window.l('Or vikunnar')}</h3>\n\t\t\t\t\t<p><Link to={'/'+currentLang+'/ord/'+this.state.data.flid+'/tungumal/'+(localStorage.getItem('selected-lang') || 'FRA')}>{this.state.data.fletta} <small>{islexHelper.formatOfl(this.state.data.ofl)}</small></Link></p>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\telse {\n\t\t\treturn null;\n\t\t}\n\t}\n}\n\nexport default OrdVikunnar;","import React, { Component } from 'react';\nimport { Link, withRouter } from \"react-router-dom\";\n\n//import BreadCrumbs from './BreadCrumbs';\nimport config from './../config';\n\nclass PageView extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.url = config.islexRoot+'/api/pages/';\n\n\t\tthis.htmlContentClickHandler = this.htmlContentClickHandler.bind(this);\n\t\tthis.languageChangedHandler = this.languageChangedHandler.bind(this);\n\n\t\tthis.state = {\n\t\t\tinitialized: false\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.props.location || this.props.url) {\n\t\t\tthis.fetchData();\n\t\t}\n\n\t\twindow.eventBus.addEventListener('Lang.languageChanged', this.languageChangedHandler);\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t// Athuga hvort breytur hafi breyst og hvort component eigi a uppfrast\n\t\tif ((this.props.location && this.props.location.pathname != prevProps.location.pathname)) {\n\t\t\tthis.setState({\n\t\t\t\tdata: null,\n\t\t\t\twillRefresh: true\n\t\t\t}, function() {\n\t\t\t\tthis.fetchData();\n\t\t\t}.bind(this));\n\t\t}\n\n\t\tif (!this.state.willRefresh && this.refs.htmlContainer) {\n\t\t\tlet tables = this.refs.htmlContainer.getElementsByTagName('table');\n\n\t\t\tfor (var i = 0; i < tables.length; i++) {\n\t\t\t\ttables[i].classList.add('table');\n\t\t\t\ttables[i].classList.add('table-responsive');\n\t\t\t}\n\t\t}\n\t}\n\n\tisExternal(url) {\n\t\tvar match = url.match(/^([^:\\/?#]+:)?(?:\\/\\/([^\\/?#]*))?([^?#]+)?(\\?[^#]*)?(#.*)?/);\n\t\tif (typeof match[1] === \"string\" && match[1].length > 0 && match[1].toLowerCase() !== window.location.protocol) return true;\n\t\tif (typeof match[2] === \"string\" && match[2].length > 0 && match[2].replace(new RegExp(\":(\"+{\"http:\":80,\"https:\":443}[window.location.protocol]+\")?$\"), \"\") !== window.location.host) return true;\n\t\treturn false;\n\t}\n\n\tscrollToAnchor(anchorName) {\n\t\tanchorName = anchorName.substr(1);\n\t}\n\thtmlContentClickHandler(event) {\n\t\tlet linkEl = event.target.closest('a');\n\n\t\tif (linkEl) {\n\t\t\tlet linkUrl = linkEl.getAttribute('href');\n\n\t\t\tif (linkUrl.substr(0, 1) == '#') {\n\t\t\t\tthis.scrollToAnchor(linkUrl);\n\t\t\t}\n\t\t\telse if (!this.isExternal(linkUrl) && (!linkEl.getAttribute('target'))) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthis.props.history.push(linkUrl);\n\t\t\t}\n\t\t}\n\t}\n\n\tlanguageChangedHandler() {\n\t\t//this.fetchData();\n\t}\n\n\tfetchData() {\n\t\twindow.scrollTo(0, 0);\n\n\t\tlet currentLang = window.currentLang || 'is';\n\n\t\tlet path = this.props.url ? this.props.url : this.props.location.pathname;\n\n\t\tlet siteLang = path.substr(1, 2);\n\n\t\t// Ski ggn til APA\n\t\tfetch(this.url+'?url='+path+'&site='+config.site+'&lang='+siteLang)\n\t\t\t.then(function(response) {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then(function(json) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tdata: json.results[0],\n\t\t\t\t\twillRefresh: false,\n\t\t\t\t\tnotFound: json.length == 0\n\t\t\t\t});\n\n\t\t\t\tif (json.results[0] && json.results[0].title) {\n\t\t\t\t\twindow.document.title = config.siteTitle+' | '+json.results[0].title;\n\t\t\t\t}\n\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tinitialized: true\n\t\t\t\t\t});\n\t\t\t\t}.bind(this), 200);\n\t\t\t}.bind(this));\n\t}\n\n\tformatHtml(html) {\n\t\tlet formatedHtml = html.replace(/\\\\r|\\\\n/g, '');\n\n\t\treturn formatedHtml;\n\t}\n\n\trender() {\n\t\tlet dataItem = this.state.data || null;\n\n\t\treturn (\n\t\t\t<div className={'card content-container manual-init'+(this.state.initialized ? ' initialized' : '')}>\n\t\t\t\t{\n\t\t\t\t\tdataItem &&\n\n\t\t\t\t\t<div className=\"page-content card-body\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t/*\n\t\t\t\t\t\t\tdataItem.path.length > 1 &&\n\t\t\t\t\t\t\t<BreadCrumbs path={dataItem.path} />\n\t\t\t\t\t\t\t*/\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<div className=\"html-content\" ref=\"htmlContainer\" onClick={this.htmlContentClickHandler} dangerouslySetInnerHTML={{__html: this.formatHtml(dataItem.content)}}/>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tthis.state.notFound &&\n\t\t\t\t\t<div className=\"page-content\">\n\t\t\t\t\t\t<h2>Sa finnst ekki</h2>\n\t\t\t\t\t\t<p>Engin sa finnst  slinni <strong>{this.props.history.location.pathname}</strong>.</p>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(PageView);\n","import React, { Component } from 'react';\nimport { Link, withRouter } from \"react-router-dom\";\nimport OrdVikunnar from './OrdVikunnar';\nimport PageView from './PageView';\n\nclass Frontpage extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\n\t\t\t\t<div className=\"row front\">\n\t\t\t\t\t<div className=\"col-md-9\">\n\n\t\t\t\t\t\t<PageView url={this.props.location.pathname} />\n\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-md-3\">\n\t\t\t\t\t\t<OrdVikunnar />\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default withRouter(Frontpage);\n","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport _ from 'underscore';\n\nimport islexHelper from './../islexHelper';\nimport config from './../config';\n\nclass TermItemView extends Component {\n\trenderAudioEl(dataItem) {\n\t\tlet audioFormats = dataItem.texti.split('\\t')[0].split(',');\n\n\t\tlet audioUrl = config.audioUrl+Math.floor(dataItem.flid/1000)+'/'+dataItem.itid;\n\n\t\treturn <div className=\"dict-item dict-framb\">\n\t\t\t<audio ref=\"audioControl\" controls>\n\t\t\t\t{\n\t\t\t\t\taudioFormats.map(function(format) {\n\t\t\t\t\t\treturn <source key={format} src={audioUrl+'.'+format} type={'audio/'+format}/>\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</audio>\n\t\t\t<a onClick={\n\t\t\t\tfunction() {\n\t\t\t\t\tthis.refs.audioControl.load();\n\t\t\t\t\tthis.refs.audioControl.play()\n\t\t\t\t}.bind(this)\n\t\t\t}>{window.l(islexHelper.firstLetterUpperCase(dataItem.texti.split('\\t')[1]))}</a>\n\t\t</div>;\n\t}\n\n\tgetImageUrl(dataItem) {\n\t\tfunction lpad(value, padding) {\n\t\t\tlet zeroes = new Array(padding+1).join(\"0\");\n\t\t\treturn (zeroes + value).slice(-padding);\n\t\t}\n\n\t\tlet imageUrl = config.imageUrl+lpad(Math.floor(dataItem.itid/10000), 5)+'/'+dataItem.texti;\n\n\t\treturn imageUrl;\n\t}\n\n\trender() {\n\t\tlet currentLang = window.currentLang || 'is';\n\n\t\tlet dataItem = this.props.item;\n\t\tlet type = dataItem.teg;\n\n\t\tlet el;\n\n\t\tlet lastTeg = '';\n\n\t\tlet subItems = dataItem.pitems && dataItem.pitems.length > 0 ?\n\t\t\tdataItem.pitems.map(function(pitem, index) {\n\t\t\t\tlet termItemView;\n\n\t\t\t\tif (this.props.lang) {\n\t\t\t\t\tif (\n\t\t\t\t\t\t(\n\t\t\t\t\t\t\tpitem.teg.toLowerCase().startsWith(this.props.lang.toLowerCase()) ||\n\t\t\t\t\t\t\tpitem.teg.toLowerCase().endsWith(this.props.lang.toLowerCase()) ||\n\t\t\t\t\t\t\tpitem.teg.startsWith('NOT-') ||\n\t\t\t\t\t\t\tpitem.teg == 'IS-precis' ||\n\t\t\t\t\t\t\tpitem.teg == 'OSTA' ||\n\t\t\t\t\t\t\tpitem.teg == 'DMI' ||\n\t\t\t\t\t\t\tpitem.teg == 'Z-MERKING' ||\n\t\t\t\t\t\t\tpitem.teg == 'Z-PERSNA' ||\n\t\t\t\t\t\t\tpitem.teg == 'LIUR' ||\n\t\t\t\t\t\t\tpitem.teg == 'VSUN' ||\n\t\t\t\t\t\t\tpitem.teg == 'MYND' ||\n\t\t\t\t\t\t\tpitem.teg == 'SOSTA' ||\n\t\t\t\t\t\t\tpitem.teg == 'OSAMB' ||\n\t\t\t\t\t\t\tpitem.teg == 'SOHAUS' ||\n\t\t\t\t\t\t\tpitem.teg == 'TILFJELSE' ||\n\t\t\t\t\t\t\tpitem.teg == 'FRUMLAG' ||\n\t\t\t\t\t\t\tpitem.teg == 'NOTKUN' ||\n\t\t\t\t\t\t\tpitem.teg == 'SVI'\n\t\t\t\t\t\t) && !pitem.teg.startsWith('MORFO-')\n\t\t\t\t\t) {\n\t\t\t\t\t\ttermItemView = <TermItemView key={pitem.itid} lastTeg={lastTeg} lang={this.props.lang} item={pitem} />;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ttermItemView = <TermItemView key={pitem.itid} lastTeg={lastTeg} item={pitem} />;\n\t\t\t\t}\n\n\t\t\t\tlastTeg = pitem.teg;\n\n\t\t\t\treturn termItemView;\n\t\t\t}.bind(this)) : [];\n\t\tif (type == 'STRIK') {\n\t\t\tel = <hr data-type={type} data-itid={dataItem.itid} />;\n\t\t}\n\t\telse if (type.startsWith('KOMpre-')) {\n\t\t\tel = <span data-type={type} className=\"dict-item-inline dict-text-light\">[{dataItem.texti}] </span>\n\t\t}\n\t\telse if (type == 'IS-precis') {\n\t\t\tel = <span data-type={type} className=\"dict-item-inline dict-text-light\"> ({dataItem.texti})</span>\n\t\t}\n\t\telse if (type == 'FRAMB') {\n\t\t\tel = this.renderAudioEl(dataItem)\n\t\t}\n\t\telse if (type == 'BEYGING') {\n\t\t\tel = <div data-type={type} data-itid={dataItem.itid} className=\"dict-item dict-link mb-3\"><a target=\"_blank\" href={dataItem.texti.split('\t')[0]}>{window.l('Beyging')}</a></div>;\n\t\t}\n\t\telse if (type == 'FORM') {\n\t\t\tel = <div data-type={type} data-itid={dataItem.itid} className=\"dict-item dict-fallstj\">{window.l(dataItem.texti)}</div>;\n\t\t}\n\t\telse if (type == 'FRUMLAG') {\n\t\t\tel = <div data-type={type} data-itid={dataItem.itid} className=\"dict-item dict-fallstj dict-frumlag\">{window.l('subjekt')}: {window.l(dataItem.texti)}</div>;\n\t\t}\n\t\telse if (type == 'FALLSTJ') {\n\t\t\tel = <div data-type={type} data-itid={dataItem.itid} className=\"dict-item dict-fallstj\">{window.l(dataItem.texti)}</div>;\n\t\t}\n\t\telse if (type == 'FALLSTJ-FS') {\n\t\t\tel = <div data-type={type} data-itid={dataItem.itid} className=\"dict-item dict-fallstj\"><strong>{dataItem.texti}</strong></div>;\n\t\t}\n\t\telse if (type == 'MYND') {\n\t\t\tlet linkUrl;\n\t\t\tlet linkText;\n\n\t\t\tif (dataItem.pitems && dataItem.pitems.length) {\n\t\t\t\ttry {\n\t\t\t\t\tlet linkFrags = dataItem.pitems[0].texti.match(/^(\\S+)\\s(.*)/).slice(1)\n\t\t\t\t\tlinkUrl = linkFrags[0]\n\t\t\t\t\tlinkText = linkFrags[1];\n\t\t\t\t}\n\t\t\t\tcatch(e) {}\n\t\t\t}\n\n\t\t\tel = <div data-type={type} data-itid={dataItem.itid} className=\"dict-item dict-image\">\n\t\t\t\t<img src={this.getImageUrl(dataItem)} />\n\t\t\t\t{\n\t\t\t\t\tdataItem.pitems && dataItem.pitems.length > 0 &&\n\t\t\t\t\t<div className=\"image-caption\"><a href={linkUrl}>{linkText}</a></div>\n\t\t\t\t}\n\t\t\t</div>;\n\t\t}\n\t\telse if (type == 'ISL-TEXTI') {\n\t\t\tel = <div data-type={type} data-itid={dataItem.itid} className=\"dict-item dict-merking\">{dataItem.texti}</div>;\n\t\t}\n\t\telse if (type == 'Z-LO') {\n\t\t\tel = <div data-type={type} data-itid={dataItem.itid} className=\"dict-item\">({dataItem.texti})</div>;\n\t\t}\n\t\telse if (type == 'Z-MERKING') {\n\t\t\tel = <div data-type={type} data-itid={dataItem.itid} className=\"dict-item dict-merking\">({dataItem.texti})</div>;\n\t\t}\n\t\telse if (type == 'Z-PERSNA') {\n\t\t\tel = <div data-type={type} data-itid={dataItem.itid} className=\"dict-item dict-merking\"><img style={{maxWidth: 32}} src=\"/img/icon-person.png\"/></div>;\n\t\t}\n\t\telse if (type == 'Z-HESTUR') {\n\t\t\tel = <div data-type={type} data-itid={dataItem.itid} className=\"dict-item dict-merking\"><img style={{maxWidth: 32}} src=\"/img/icon-hestur.png\"/></div>;\n\t\t}\n\t\telse if (type == 'LIUR') {\n\t\t\tel = <div data-type={type} data-itid={dataItem.itid} className=\"dict-item dict-section\">\n\t\t\t\t<div className=\"dict-section-num\"> {dataItem.texti}</div>\n\t\t\t\t{\n\t\t\t\t\tsubItems\n\t\t\t\t}\n\t\t\t</div>;\n\t\t}\n\t\telse if (type == 'WWW') {\n\t\t\tlet linkFrags = dataItem.texti.match(/^(\\S+)\\s(.*)/).slice(1)\n\n\t\t\tlet linkUrl = linkFrags[0]\n\t\t\tlet linkText = linkFrags[1];\n\n\t\t\tel = <div data-type={type} data-itid={dataItem.itid} className=\"dict-item\"><a href={linkUrl}>{linkText}</a></div>;\n\t\t}\n\t\telse if (type == 'HLUTAR') {\n\t\t\tel = <div data-type={type} data-itid={dataItem.itid} className=\"dict-item\">{dataItem.texti}</div>;\n\t\t}\n\t\telse if (type == 'NOTKUN') {\n\t\t\tel = <div data-type={type} data-itid={dataItem.itid} className=\"dict-item dict-text-light\"><em>{window.l(dataItem.texti)}</em></div>;\n\t\t}\n\t\telse if (type == 'SVI') {\n\t\t\tel = <div data-type={type} data-itid={dataItem.itid} className=\"dict-item\"><em>{window.l(dataItem.texti)}</em></div>;\n\t\t}\n\t\telse if (type.endsWith('-kateg')) {\n\t\t\tel = subItems;\n\t\t}\n\t\telse if (type == 'DMI') {\n\t\t\tel = <div data-type={type} data-itid={dataItem.itid} className=\"dict-item dict-daemi\">\n\t\t\t\t<div className=\"daemi\">{dataItem.texti}</div>\n\t\t\t\t{\n\t\t\t\t\tdataItem.pitems && dataItem.pitems.length > 0 &&\n\t\t\t\t\tdataItem.pitems.map(function(daemiTranslation) {\n\t\t\t\t\t\tlet displayLang;\n\n\t\t\t\t\t\tif (daemiTranslation.teg.match(/^[A-Z]{2,3}-|-[A-Z]{2,3}$/g)) {\n\t\t\t\t\t\t\tdisplayLang = daemiTranslation.teg.match(/^[A-Z]{2,3}-|-[A-Z]{2,3}$/g)[0].replace('-', '');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet TagName = !this.props.lang ? 'div' : 'span';\n\n\t\t\t\t\t\treturn islexHelper.tungumal[displayLang] ? <TagName key={daemiTranslation.itid} data-itid={daemiTranslation.itid} className={'daemi-translation dict-jafn'+(daemiTranslation.skil == '/' || daemiTranslation.skil == ';/' ? ' break-next' : '')}>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdisplayLang &&\n\t\t\t\t\t\t\t\t<img className=\"button-flag\" title={islexHelper.tungumal[displayLang].name} src={'/img/flags/'+displayLang+'.png'} />\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{daemiTranslation.texti}\n\t\t\t\t\t\t</TagName> : null\n\t\t\t\t\t}.bind(this))\n\t\t\t\t}\n\t\t\t</div>;\n\t\t}\n\t\telse if (type.startsWith('NOT-') || type == 'TILFJELSE') {\n\t\t\tel = <div data-type={type} data-itid={dataItem.itid} className=\"dict-item dict-notkunarsvid dict-text-light\">({dataItem.texti})</div>;\n\t\t}\n\t\telse if (type == 'SOSTA' || type == 'OSTA' || type == 'OSAMB' || type == 'SOHAUS') {\n\t\t\tlet displayLang;\n\n\t\t\t// Athuga hvort fni eigi a birtast\n\t\t\tif (type.match(/^[A-Z]{2,3}-|-[A-Z]{2,3}$/g)) {\n\t\t\t\tdisplayLang = type.match(/^[A-Z]{2,3}-|-[A-Z]{2,3}$/g)[0].replace('-', '');\n\t\t\t}\n\n\n\t\t\tel = <div data-type={type} data-itid={dataItem.itid} className={'dict-item '+(type == 'SOSTA' || type == 'OSTA' || type == 'OSAMB' ? 'dict-osamband' : 'dict-sohaus')+(this.props.firstLevel ? ' first-level' : '')}>\n\t\t\t\t{\n\t\t\t\t\tdisplayLang &&\n\t\t\t\t\t<img className=\"button-flag\" title={islexHelper.tungumal[displayLang].name} src={'/img/flags/'+displayLang+'.png'} />\n\t\t\t\t}\n\t\t\t\t<div className={(type == 'SOSTA' || type == 'OSTA' || type == 'OSAMB' ? 'osamband' : 'sohaus')}>{dataItem.texti}</div>\n\t\t\t\t{\n\t\t\t\t\tsubItems\n\t\t\t\t}\n\t\t\t</div>;\n\t\t}\n\t\telse if (type.startsWith('KOM-')) {\n\t\t\tel = <span data-type={type} data-itid={dataItem.itid} className=\"inline-skyring dict-text-light\">({dataItem.texti})</span>;\n\t\t}\n\t\t/*\n\t\telse if (type == 'SOHAUS') {\n\t\t\tel = <div><strong>SOHAUS</strong></div>;\n\t\t}\n\t\t*/\n\t\telse if (type.indexOf('-jafn') > -1 || type.indexOf('-') > -1 || type.indexOf('-skr') > -1) {\n\t\t\tlet displayLang = '';\n\n\t\t\t// Athuga hvort fni eigi a birtast\n\t\t\tif (type.match(/^[A-Z]{2,3}-|-[A-Z]{2,3}$/g)) {\n\t\t\t\tdisplayLang = type.match(/^[A-Z]{2,3}-|-[A-Z]{2,3}$/g)[0].replace('-', '');\n\t\t\t}\n\n\t\t\t// Athuga hr me sasta tunguml, if displayLang != lastLang ? TagName = 'div'\n\t\t\tlet TagName = !this.props.lang ? 'div' : 'span';\n\n\t\t\tlet titleText;\n\t\t\tif (dataItem.pitems && dataItem.pitems.length == 1 && dataItem.pitems[0].teg.startsWith('MORFO-')) {\n\t\t\t\ttitleText = dataItem.pitems[0].texti;\n\t\t\t}\n\n\t\t\tel = <React.Fragment>\n\t\t\t\t<TagName data-type={type} data-itid={dataItem.itid} className={'dict-item dict-jafn'+(this.props.firstLevel ? ' first-level' : '')+(dataItem.skil == '/' || dataItem.skil == ';/' ? ' break-next' : '')}>\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayLang &&\n\t\t\t\t\t\t<img className=\"button-flag\" title={islexHelper.tungumal[displayLang] ? islexHelper.tungumal[displayLang].name : ''} src={'/img/flags/'+displayLang+'.png'} />\n\t\t\t\t\t}\n\n\t\t\t\t\t<span title={titleText || null}>{dataItem.texti}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdataItem.skil == ';/' &&\n\t\t\t\t\t\t\t<React.Fragment>;</React.Fragment>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitleText &&\n\t\t\t\t\t\t\t<span className=\"ml-2 dict-text-lighter\">{titleText}</span>\n\t\t\t\t\t\t}\n\t\t\t\t\t</span>\n\n\t\t\t\t\t{\n\t\t\t\t\t\t/*\n\t\t\t\t\t\tdataItem.pitems.length == 1 && dataItem.pitems[0].teg.startsWith('MORFO-') &&\n\t\t\t\t\t\t<div className=\"dict-morfo\">{dataItem.pitems[0].texti}</div>\n\t\t\t\t\t\t*/\n\t\t\t\t\t}\n\n\t\t\t\t\t{\n\t\t\t\t\t\tsubItems\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\t(dataItem.skil == '/' || dataItem.skil == ';/') &&\n\t\t\t\t\t\t<div className=\"clear-fix\" />\n\t\t\t\t\t}\n\t\t\t\t</TagName>\n\t\t\t\t{\n\t\t\t\t\t//(type == this.props.lastTeg) &&\n\t\t\t\t\t//<div className=\"clearfix\" />\n\t\t\t\t}\n\t\t\t</React.Fragment>;\n\t\t}\n\t\telse if (type == 'VSUN') {\n\t\t\tlet visunUrl;\n\t\t\tlet visunLink;\n\n\t\t\tlet formatUrlFrag = function(urlFrag) {\n\t\t\t\treturn (urlFrag.split(' ').length > 1 && !isNaN(urlFrag.split(' ')[0]) ? urlFrag.split(' ')[1] : urlFrag);\n\t\t\t}\n\n\t\t\tif (dataItem.texti.indexOf(':') > -1) {\n\t\t\t\tlet visunParts = dataItem.texti.split(':');\n\t\t\t\tlet visunUrlFrags = visunParts[0].split(', ');\n\t\t\t\tlet visunLinkFrags = visunParts[1].split('\\t');\n\n\t\t\t\tvisunUrl = formatUrlFrag(visunUrlFrags[0])+\n\t\t\t\t\t(visunUrlFrags[1] ? '/ofl/'+visunUrlFrags[1].split(' ')[0] : '')+\n\t\t\t\t\t(visunUrlFrags[0].split(' ').length > 1 && !isNaN(visunUrlFrags[0].split(' ')[0]) ? '/rnum/'+visunUrlFrags[0].split(' ')[0] : '');\n\t\t\t\tvisunLink = visunLinkFrags[1]+' '+visunLinkFrags[0];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlet visunFrags = dataItem.texti.split(', ');\n\n\t\t\t\tvisunUrl = formatUrlFrag(visunFrags[0])+\n\t\t\t\t\t(visunFrags[1] ? '/ofl/'+visunFrags[1].split(' ')[0] : '')+\n\t\t\t\t\t(visunFrags[0].split(' ').length > 1 && !isNaN(visunFrags[0].split(' ')[0]) ? '/rnum/'+visunFrags[0].split(' ')[0] : '');\n\t\t\t\tvisunLink = <React.Fragment>{visunFrags[0]} {islexHelper.formatOfl(visunFrags[1])}</React.Fragment>;\n\n\t\t\t}\n\n\t\t\tel = <div data-type={type} data-itid={dataItem.itid} className=\"dict-item dict-visun dict-link mt-3\"><Link to={'/'+currentLang+'/leit/'+visunUrl+'?synafyrstu'}>{visunLink}</Link></div>;\n\t\t}\n\t\telse {\n\t\t\tlet displayLang;\n\n\t\t\t// Athuga hvort fni eigi a birtast\n\t\t\tif (type.match(/^[A-Z]{2,3}-|-[A-Z]{2,3}$/g)) {\n\t\t\t\tdisplayLang = type.match(/^[A-Z]{2,3}-|-[A-Z]{2,3}$/g)[0].replace('-', '');\n\t\t\t}\n\n\t\t\tel = <div data-type={type} data-itid={dataItem.itid} style={{border: '1px solid #999'}}>\n\t\t\t\t<div><strong>VANTAR BIRTINGU: {type}</strong></div>\n\n\t\t\t\t<p>\n\t\t\t\t\t{\n\t\t\t\t\t\tdisplayLang && islexHelper.tungumal[displayLang] &&\n\t\t\t\t\t\t<img className=\"button-flag\" title={islexHelper.tungumal[displayLang].name} src={'/img/flags/'+displayLang+'.png'} />\n\t\t\t\t\t}\n\n\t\t\t\t\t{type}: {dataItem.texti}\n\t\t\t\t</p>\n\t\t\t\t{\n\t\t\t\t\tsubItems\n\t\t\t\t}\n\t\t\t</div>;\n\n\t\t\tel = null;\n\t\t}\n\n\t\treturn (el);\n\t}\n}\n\nexport default withRouter(TermItemView);\n","\nimport React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport TermItemView from './TermItemView';\nimport _ from 'underscore';\n\nimport islexHelper from './../islexHelper';\n\nclass TermView extends Component {\n\trender() {\n\t\tlet dataItem = this.props.data;\n\n\t\tlet rnumEl;\n\n\t\tif (dataItem.rnum && dataItem.rnum > 0) {\n\t\t\trnumEl = <small>{dataItem.rnum} </small>\n\t\t}\n\n\t\t// Athuga hvort vsun finnist fyrir ori, ef missingTranslation = true eiga skilaboin um a ingu\n\t\t// vanti ekki a birtast ef vsun er fyrir hendi\n\t\tlet hasVisun = Boolean(_.findWhere(dataItem.items, {teg: 'VSUN'}));\n\n\t\treturn (\n\t\t\t<div className=\"dict-view\">\n\n\t\t\t\t<div className=\"dict-word\">\n\t\t\t\t{\n\t\t\t\t\trnumEl\n\t\t\t\t}\n\t\t\t\t{dataItem.fletta} <span className=\"word-class\">{islexHelper.formatOfl(dataItem.ofl)}</span></div>\n\t\t\t\t{\n\t\t\t\t\tdataItem.missingTranslation &&\n\t\t\t\t\t<div className=\"alert alert-warning\"><strong>{window.l('ingu vantar')}</strong><br/>\n\t\t\t\t\t\t{window.l('Ori er  vinnslu')}</div>\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tdataItem.stuttbeyg && dataItem.stuttbeyg != '' &&\n\t\t\t\t\t<div className=\"dict-info alert alert-info\">{dataItem.stuttbeyg}</div>\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tdataItem.items && dataItem.items.length > 0 &&\n\t\t\t\t\tdataItem.items.map(function(item, index) {\n\t\t\t\t\t\tlet termItemView = <TermItemView key={index}\n\t\t\t\t\t\t\tfirstLevel={true}\n\t\t\t\t\t\t\tlang={!dataItem.missingTranslation ? this.props.lang : undefined}\n\t\t\t\t\t\t\titem={item} />;\n\n\t\t\t\t\t\treturn termItemView;\n\t\t\t\t\t}.bind(this))\n\t\t\t\t}\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default withRouter(TermView);\n","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport _ from 'underscore';\n\nimport islexHelper from './../islexHelper';\n\nclass SearchResultsItem extends Component {\n\tcomponentDidMount() {\n\t}\n\n\tformatHighlightedText(text) {\n\t\treturn text.split('<').join('&lt;').split('>').join('&gt;').split('[').join('<').split(']').join('>');\n\t}\n\n\trender() {\n\t\tlet dataItem = this.props.data;\n\n\t\tlet currentLang = window.currentLang || 'is';\n\n\t\tif (dataItem.highlight) {\n\t\t\tif (dataItem.highlight['items.texti']) {\n\t\t\t\tdataItem.highlight['items.texti'] = _.uniq(dataItem.highlight['items.texti'])\n\t\t\t}\n\t\t}\n\n\t\t// Passa upp  a inner hits innihaldi ekki tvfaldar frslur\n\t\tif (dataItem.inner_hits && dataItem.inner_hits['text_hits'] && dataItem.inner_hits['text_hits']['hits']['hits']) {\n\t\t\tdataItem.inner_hits['text_hits']['hits']['hits'] = _.uniq(dataItem.inner_hits['text_hits']['hits']['hits'], function(hitItem) {\n\t\t\t\treturn hitItem._source.texti+':'+hitItem._source.teg;\n\t\t\t})\n\t\t}\n\n\t\t// Passa upp  a inner hits innihaldi ekki tvfaldar frslur\n\t\tif (dataItem.inner_hits && dataItem.inner_hits['phrase_hits'] && dataItem.inner_hits['phrase_hits']['hits']['hits']) {\n\t\t\tdataItem.inner_hits['phrase_hits']['hits']['hits'] = _.uniq(dataItem.inner_hits['phrase_hits']['hits']['hits'], function(hitItem) {\n\t\t\t\treturn hitItem._source.texti;\n\t\t\t})\n\t\t}\n\n\n\t\t// Passa upp  a text_hits og phrase_hits innihaldi ekki smu frslur\n\t\tif (dataItem.inner_hits && dataItem.inner_hits['text_hits'] && dataItem.inner_hits['text_hits']['hits']['hits'] && dataItem.inner_hits['phrase_hits'] && dataItem.inner_hits['phrase_hits']['hits']['hits']) {\n\t\t\tlet phraseHitsWouthoutTextHits = [];\n\n\t\t\tdataItem.inner_hits['text_hits']['hits']['hits'] = _.filter(dataItem.inner_hits['text_hits']['hits']['hits'], function(item) {\n\t\t\t\treturn !_.findWhere(dataItem.inner_hits['phrase_hits']['hits']['hits'], {_id: item._id});\n\t\t\t});\n\n\t\t\t\n\t\t}\n\n\t\tlet flettaEl;\n\t\tif (dataItem.highlight && dataItem.highlight.fletta) {\n\t\t\tflettaEl = <span className=\"fletta\" dangerouslySetInnerHTML={{__html: this.formatHighlightedText(dataItem.highlight.fletta[0])}}></span>;\n\t\t}\n\t\telse {\n\t\t\tflettaEl = <span className=\"fletta\">{dataItem.fletta}</span>;\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<td className=\"d-sm-block d-md-table-cell\">\n\t\t\t\t\t<span className=\"item-fletta\" style={{width: '180px', display: 'inline-block'}}><Link to={'/'+currentLang+'/ord/'+dataItem.flid+'/tungumal/'+(localStorage.getItem('selected-lang') || 'FRA')}>{flettaEl} {dataItem.rnum || ''}</Link> {islexHelper.formatOfl(dataItem.ofl)}</span>\n\t\t\t\t</td>\n\n\t\t\t\t<td className=\"d-sm-block d-md-table-cell\">\n\t\t\t\t\t{\n\t\t\t\t\t\tdataItem.highlight && dataItem.highlight.ordmyndir && !dataItem.highlight.fletta &&\n\t\t\t\t\t\t<div className=\"results-example ordmynd\">Ormynd: <span className=\"comma-list\" dangerouslySetInnerHTML={{__html: this.formatHighlightedText('[span class=\"d-none\"]'+dataItem.highlight.ordmyndir[0]+'[/span]')}} /></div>\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\tdataItem.highlight && dataItem.highlight['items.texti'] &&\n\t\t\t\t\t\t<div className=\"results-example\">\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdataItem.highlight['items.texti'].map(function(textItem, index) {\n\t\t\t\t\t\t\t\t\treturn <div key={index} className=\"example-item\" dangerouslySetInnerHTML={{__html: this.formatHighlightedText(textItem)}} />;\n\t\t\t\t\t\t\t\t}.bind(this))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\tdataItem.inner_hits && dataItem.inner_hits['phrase_hits'] && dataItem.inner_hits['phrase_hits']['hits']['hits'] && dataItem.inner_hits['phrase_hits']['hits']['hits'].length > 0 &&\n\t\t\t\t\t\t<div className=\"results-example\">\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdataItem.inner_hits['phrase_hits']['hits']['hits'].map(function(textItem, index) {\n\t\t\t\t\t\t\t\t\tlet textItemText = textItem.highlight && textItem.highlight['items.texti'] ? textItem.highlight['items.texti'][0] : textItem._source.texti;\n\t\t\t\t\t\t\t\t\tlet rawHtmlText = textItem.highlight && textItem.highlight['items.texti'];\n\n\t\t\t\t\t\t\t\t\treturn <div key={index} className=\"example-item\">\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\trawHtmlText &&\n\t\t\t\t\t\t\t\t\t\t\t<Link to={'/'+currentLang+'/ord/'+dataItem.flid+'/tungumal/'+(localStorage.getItem('selected-lang') || 'FRA')+('?itid='+textItem._source.itid)} dangerouslySetInnerHTML={{__html: this.formatHighlightedText(textItemText)}} />\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t!rawHtmlText &&\n\t\t\t\t\t\t\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Link to={'/'+currentLang+'/ord/'+dataItem.flid+'/tungumal/'+(localStorage.getItem('selected-lang') || 'FRA')+('?itid='+textItem._source.itid)}>{textItemText}</Link>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</div>;\n\t\t\t\t\t\t\t\t}.bind(this))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t\t{\n\t\t\t\t\t\tdataItem.inner_hits && dataItem.inner_hits['text_hits'] && dataItem.inner_hits['text_hits']['hits']['hits'] && dataItem.inner_hits['text_hits']['hits']['hits'].length > 0 &&\n\t\t\t\t\t\t<div className=\"results-example\">\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tdataItem.inner_hits['text_hits']['hits']['hits'].map(function(textItem, index) {\n\t\t\t\t\t\t\t\t\tlet lang = textItem._source.teg.indexOf('-jafn') > 0 ? textItem._source.teg.replace('-jafn', '') : \n\t\t\t\t\t\t\t\t\t\ttextItem._source.teg.indexOf('-') > 0 ? textItem._source.teg.replace('-', ''): \n\t\t\t\t\t\t\t\t\t\ttextItem._source.teg.indexOf('-skr') > 0 ? textItem._source.teg.replace('-skr', ''): \n\t\t\t\t\t\t\t\t\t\tnull;\n\n\t\t\t\t\t\t\t\t\tconsole.log(lang)\n\n\t\t\t\t\t\t\t\t\tlet textItemText = textItem.highlight && textItem.highlight['items.texti'] ? textItem.highlight['items.texti'][0] : textItem._source.texti;\n\t\t\t\t\t\t\t\t\tlet rawHtmlText = textItem.highlight && textItem.highlight['items.texti'];\n\n\t\t\t\t\t\t\t\t\tif (rawHtmlText) {\n\t\t\t\t\t\t\t\t\t\treturn <div className=\"lang-item\" key={index}>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tlang &&\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment><img className=\"button-flag\" src={'/img/flags/'+lang+'.png'} /> </React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t<Link to={'/'+currentLang+'/ord/'+dataItem.flid+'/tungumal/'+(lang || localStorage.getItem('selected-lang') || 'FRA')+('?itid='+textItem._source.itid)} dangerouslySetInnerHTML={{__html: this.formatHighlightedText(textItemText)}} /></div>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t\treturn <div className=\"lang-item\" key={index}>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tlang &&\n\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment><img className=\"button-flag\" src={'/img/flags/'+lang+'.png'} /> </React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t<Link to={'/'+currentLang+'/ord/'+dataItem.flid+'/tungumal/'+(lang || localStorage.getItem('selected-lang') || 'FRA')+('?itid='+textItem._source.itid)}>{textItem._source.texti}</Link></div>;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}.bind(this))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\t\t\t\t</td>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default withRouter(SearchResultsItem);\n","import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\n\nimport _ from 'underscore';\n\nimport config from './../config';\n\nclass SearchSuggestion extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.url = config.apiRoot+'/api/ordatillaga/';\n\n\t\tthis.state = {\n\t\t\tdata: []\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.props.searchString) {\n\t\t\tthis.fetchData();\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (\n\t\t\tthis.props.searchString != prevProps.searchString\n\t\t) {\n\t\t\tthis.fetchData();\n\t\t}\n\t}\n\n\tfetchData() {\n\t\tfetch(this.url+'?fletta='+this.props.searchString)\n\t\t\t.then(function(response) {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then(function(json) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tdata: _.uniq(json.results, function(item) {\n\t\t\t\t\t\treturn item.fletta;\n\t\t\t\t\t}),\n\t\t\t\t\tfetching: false\n\t\t\t\t})\n\t\t\t}.bind(this));\n\t}\n\n\trender() {\n\t\tlet currentLang = window.currentLang || 'is';\n\n\t\treturn (\n\t\t\tthis.state.data && this.state.data.length > 0 ?\n\t\t\t<React.Fragment>\n\t\t\t\t<hr className=\"mb-2\" />\n\n\t\t\t\t<div className=\"mt-4 mb-2\"><React.Fragment>{window.l('ttir  vi')} </React.Fragment>\n\t\t\t\t{\n\t\t\t\t\tthis.state.data.length == 1 &&\n\t\t\t\t\t<strong><Link to={'/'+currentLang+'/leit/'+this.state.data[0].fletta}>{this.state.data[0].fletta}</Link></strong>\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\tthis.state.data.length > 1 &&\n\t\t\t\t\tthis.state.data.map(function(suggestion, index) {\n\t\t\t\t\t\treturn <React.Fragment key={index}>\n\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t<Link to={'/'+currentLang+'/leit/'+suggestion.fletta}>{suggestion.fletta.toLowerCase()}</Link>\n\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.state.data.length == 2 && index == 0 &&\n\t\t\t\t\t\t\t\t<React.Fragment> {window.l('ea')} </React.Fragment>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.state.data.length > 2 && index == this.state.data.length-2 &&\n\t\t\t\t\t\t\t\t<React.Fragment> {window.l('ea')} </React.Fragment>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.state.data.length > 2 && index < this.state.data.length-2 &&\n\t\t\t\t\t\t\t\t<React.Fragment>, </React.Fragment>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t}.bind(this))\n\t\t\t\t}\n\t\t\t\t?</div>\n\n\t\t\t</React.Fragment>\n\t\t\t: null\n\t\t);\n\t}\n}\n\nexport default SearchSuggestion;\n","import React, { Component } from 'react';\n\nclass CollapsibleCard extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.toggleOpen = this.toggleOpen.bind(this);\n\n\t\tthis.state = {\n\t\t\topen: false\n\t\t};\n\t}\n\n\ttoggleOpen() {\n\t\tthis.setState({\n\t\t\topen: !this.state.open\n\t\t})\n\t}\n\n\trender() {\n\t\treturn <div className={'card collapsible-card '+(this.props.mobileMenu ? 'mobile-menu ' : '')+(this.props.className || '')+(this.state.open ? ' open' : '')}>\n\t\t\t<button className=\"btn btn-secondary card-button\" onClick={this.toggleOpen}>\n\t\t\t\t{this.state.open ? '-' : '+'}\n\t\t\t</button>\n\t\t\t{\n\t\t\t\tthis.props.title &&\n\t\t\t\t<div className=\"card-header\" onClick={this.toggleOpen} dangerouslySetInnerHTML={{__html: this.props.title}} />\n\t\t\t}\n\t\t\t<div className=\"card-body\">\n\t\t\t\t{this.props.children}\n\t\t\t</div>\n\t\t</div>\n\t}\n}\n\nexport default CollapsibleCard;","import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\n\nimport config from './../config';\nimport islexHelper from './../islexHelper';\nimport TermView from './TermView';\nimport SearchResultsItem from './SearchResultsItem';\nimport CollapsibleCard from './CollapsibleCard';\nimport SearchSuggestion from './SearchSuggestion';\n\nimport _ from 'underscore';\n\nclass SearchResultsList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.url = config.apiRoot+'/api/es/flettur/';\n\n\t\tthis.state = {\n\t\t\tlistData: []\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.fetchData();\n\n\t\twindow.reactHistory = this.props.history\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t// Skoa hvort breytur hafa breyst og hvort component eigi a uppfrast\n\t\tif (\n\t\t\tprevProps.match.params.searchString != this.props.match.params.searchString ||\n\t\t\tprevProps.match.params.ordabok != this.props.match.params.ordabok ||\n\t\t\tprevProps.match.params.order != this.props.match.params.order ||\n\t\t\tprevProps.match.params.page != this.props.match.params.page ||\n\t\t\tprevProps.match.params.leitarsvid != this.props.match.params.leitarsvid\n\t\t) {\n\t\t\tthis.fetchData();\n\t\t}\n\t}\n\n\tfetchData() {\n\t\tif (this.fetching) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.fetching = true;\n\n\t\t// Ski ggn til APA\n\t\tlet urlParams = [\n\t\t\t'simple=true'\n\t\t];\n\t\tif (this.props.match.params.searchString) {\n\t\t\turlParams.push('leit='+(this.props.match.params.searchString.split('_').join('?')));\n\t\t}\n\t\tif (this.props.match.params.fletta) {\n\t\t\turlParams.push('fletta='+(this.props.match.params.fletta.split('_').join('?')));\n\t\t}\n\t\tif (this.props.match.params.ofl) {\n\t\t\turlParams.push('ofl='+this.props.match.params.ofl);\n\t\t}\n\t\tif (this.props.match.params.rnum) {\n\t\t\turlParams.push('rnum='+this.props.match.params.rnum);\n\t\t}\n\t\tif (this.props.match.params.ordabok) {\n\t\t\turlParams.push('ordabok='+this.props.match.params.ordabok || '');\n\t\t}\n\t\tif (this.props.match.params.page) {\n\t\t\turlParams.push('offset='+((this.props.match.params.page-1)*config.pageSize) || '');\n\t\t}\n\n\t\tif (this.props.match.params.leitarsvid && this.props.match.params.leitarsvid == 'texti') {\n\t\t\turlParams.push('searchText=true');\n\t\t}\n\n\t\tlet currentLang = window.currentLang || 'is';\n\n\t\tif (currentLang != 'is' && islexHelper.getIslexLangCode(currentLang)) {\n\t\t\turlParams.push('ordabok='+islexHelper.getIslexLangCode(currentLang));\n\t\t}\n\n\t\tfetch(this.url+'?'+urlParams.join('&'))\n\t\t\t.then(function(response) {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then(function(json) {\n\t\t\t\tlet currentLang = window.currentLang || 'is';\n\n\t\t\t\tthis.fetching = false;\n\n\t\t\t\tif ((json.results.length == 1 || this.props.location.search == '?synafyrstu') && !this.props.match.params.leitarsvid) {\n\t\t\t\t\tlet selectedLang = localStorage.getItem('selected-lang') || 'FRA';\n\n\t\t\t\t\tthis.props.history.replace('/'+currentLang+'/ord/'+json.results[0].flid+'/tungumal/'+selectedLang);\n\t\t\t\t}\n\t\t\t\telse if (json.results.length == 0) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tlistData: json.results,\n\t\t\t\t\t\tfound: false,\n\t\t\t\t\t\tsearchString: this.props.match.params.searchString,\n\t\t\t\t\t\tordabok: this.props.match.params.ordabok\n\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tlistData: json.results,\n\t\t\t\t\t\ttotal: json.metadata.total,\n\t\t\t\t\t\tfound: true,\n\t\t\t\t\t\tsearchString: this.props.match.params.searchString,\n\t\t\t\t\t\tordabok: this.props.match.params.ordabok\n\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}.bind(this));\n\n\t\tif (this.props.onSearch) {\n\t\t\tthis.props.onSearch(this.props.match.params);\n\t\t}\n\t}\n\n\trender() {\n\t\tlet currentLang = window.currentLang || 'is';\n\n\t\tlet paginationUrl = '/'+currentLang+'/leit/'+(this.props.match.params.searchString || '')+(this.props.match.params.ordabok ? '/ordabok/'+this.props.match.params.ordabok : '')+\n\t\t\t(this.props.match.params.order ? '/order/'+this.props.match.params.order : '');\n\n\t\tlet currentPage = this.props.match.params.page || 1;\n\n\t\tlet paginationLinks;\n\n\n\t\tif (\n\t\t\t((this.props.match.params.page*config.pageSize)-config.pageSize < this.state.total && currentPage > 1) ||\n\t\t\t(currentPage*config.pageSize < this.state.total)\n\t\t) {\n\t\t\tpaginationLinks = <React.Fragment>\n\t\t\t\t{\n\t\t\t\t\t(currentPage*config.pageSize)-config.pageSize < this.state.total && this.props.match.params.page > 1 &&\n\t\t\t\t\t<div className=\"d-inline-block page-itemr\">\n\t\t\t\t\t\t<Link className=\"page-link\" to={paginationUrl+(this.props.match.params.leitarsvid ? '/leitarsvid/'+this.props.match.params.leitarsvid : '')+(this.props.match.params.page ? '/page/'+(parseInt(this.props.match.params.page)-1) : '')} aria-label=\"Previous\">\n\t\t\t\t\t\t\t<span aria-hidden=\"true\">&laquo; {window.l('Fyrri sa')}</span>\n\t\t\t\t\t\t\t<span className=\"sr-only\">{window.l('Fyrri sa')}</span>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\t\t(currentPage*config.pageSize < this.state.total) &&\n\t\t\t\t\t<div className=\"d-inline-block page-item\">\n\t\t\t\t\t\t<Link className=\"page-link\" to={paginationUrl+(this.props.match.params.leitarsvid ? '/leitarsvid/'+this.props.match.params.leitarsvid : '')+(this.props.match.params.page ? '/page/'+(parseInt(this.props.match.params.page)+1) : '/page/2')} aria-label=\"Next\">\n\t\t\t\t\t\t\t<span aria-hidden=\"true\">{window.l('Nsta sa')} &raquo;</span>\n\t\t\t\t\t\t\t<span className=\"sr-only\">{window.l('Nsta sa')}</span>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t</React.Fragment>;\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"row\">\n\n\t\t\t\t<div className=\"col-12 col-md-8 offset-md-2\">\n\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.props.match.params.searchString &&\n\t\t\t\t\t\t<ol className=\"breadcrumb\"><li className=\"breadcrumb-item active\" aria-current=\"page\">{window.l('Leitarniurstur fyrir')} <strong>{this.props.match.params.searchString}</strong></li></ol>\n\t\t\t\t\t}\n\n\t\t\t\t\t<table className={'list-group mb-4 dictionary-list'}>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.state.listData.length > 0 ?\n\t\t\t\t\t\t\tthis.state.listData.map(function(item, index) {\n\t\t\t\t\t\t\t\treturn <tr key={index} className=\"list-group-item dictionary-entry\">\n\t\t\t\t\t\t\t\t\t<SearchResultsItem order={this.props.match.params.order} data={item} />\n\t\t\t\t\t\t\t\t</tr>;\n\t\t\t\t\t\t\t}.bind(this)) :\n\t\t\t\t\t\t\t\t!this.state.found &&\n\t\t\t\t\t\t\t\t<li key=\"-1\" className=\"list-group-item text-center\">\n\t\t\t\t\t\t\t\t\t<div className=\"h5 mt-3 mb-4\">{this.props.match.params.searchString ? window.l('Engar leitarniurstur fyrir')+' \\''+this.props.match.params.searchString+'\\'' : window.l('Ekkert fannst')}</div>\n\t\t\t\t\t\t\t\t\t<SearchSuggestion searchString={this.props.match.params.searchString} />\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"col-12 col-sm-5 col-md-3\">\n\n\t\t\t\t\t{\n\t\t\t\t\t\tpaginationLinks &&\n\t\t\t\t\t\t<div className=\"index-pagination\">\n\t\t\t\t\t\t\t<div className=\"d-inline-block\">\n\t\t\t\t\t\t\t\t{paginationLinks}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t}\n\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SearchResultsList;\n","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\n\nimport islexHelper from './../islexHelper';\n\nclass LangMenu extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tselectedLang: 'is'\n\t\t};\n\t}\n\n\trender() {\n\t\tlet langEls = [];\n\n\t\tlet langList = {\n\t\t\t'IS': {\n\t\t\t\tcode: 'is',\n\t\t\t\tname: 'slenska'\n\t\t\t}\n\t\t};\n\n\t\tfor (let lang in islexHelper.tungumal) {\n\t\t\tlangList[lang] = islexHelper.tungumal[lang];\n\t\t}\n\n\t\tfor (let lang in langList) {\n\t\t\tlangEls.push(<Link key={langList[lang].code} \n\t\t\t\tto={'/'+langList[lang].code+'/'} \n\t\t\t\tclassName={langList[lang].code == window.currentLang ? 'active' : null} \n\t\t\t><img className=\"button-flag\" src={'/img/flags/'+langList[lang].code.toUpperCase()+'.png'}/> {langList[lang].langMenuName || langList[lang].name}</Link>);\n\t\t}\n\n\t\treturn (\n\t\t\tthis.props.inline ?\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t{\n\t\t\t\t\t\tlangEls\n\t\t\t\t\t}\n\t\t\t\t</React.Fragment> :\n\t\t\t\t<div className=\"menu-links lang-menu\">\n\t\t\t\t\t{\n\t\t\t\t\t\tlangEls\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default LangMenu;\n","import React, { Component } from 'react';\nimport { NavLink, Link, withRouter } from \"react-router-dom\";\n\nimport config from './../config';\n\nclass PageMenu extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.url = config.islexRoot+'/api/pages/';\n\n\t\tthis.state = {\n\t\t\tlistData: []\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.fetchData();\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tif (this.props.lang && prevProps.lang != this.props.lang) {\n\t\t\tthis.fetchData();\n\t\t}\n\t}\n\n\tfetchData() {\n\t\t// Ski ggn til APA\n\t\tthis.setState({\n\t\t\tlistData: []\n\t\t});\n\n\t\tfetch(this.url+'?site='+config.site+'&lang='+(this.props.lang || 'is'))\n\t\t\t.then(function(response) {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then(function(json) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tlistData: json.results\n\t\t\t\t});\n\t\t\t}.bind(this));\n\t}\n\n\trender() {\n\t\treturn (\n\n\t\t\t<React.Fragment>\n\t\t\t\t<div className={'menu-links'+(this.props.className ? ' '+this.props.className : '')}>\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.state.listData.length > 0 &&\n\t\t\t\t\t\tthis.state.listData.map(function(item, index) {\n\t\t\t\t\t\t\treturn <NavLink  key={index}exact to={item.url}>{item.title}</NavLink>;\n\t\t\t\t\t\t}.bind(this))\n\t\t\t\t\t}\n\n\t\t\t\t</div>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default withRouter(PageMenu);\n","import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\n\nimport config from './../config';\nimport islexHelper from './../islexHelper';\n\nimport _ from 'underscore';\n\nclass TermIndexList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.url = config.apiRoot+'/api/flettur_list/';\n\n\t\tthis.windowResizeHandler = this.windowResizeHandler.bind(this);\n\n\t\tthis.state = {\n\t\t\tlistData: [],\n\t\t\tfetching: true\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.props.flid) {\n\t\t\tthis.fetchData();\n\t\t}\n\n\t\tthis.mobileWidth = window.innerWidth < 550;\n\n\t\twindow.addEventListener('resize', this.windowResizeHandler);\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t// Skoa hvort breytur hafa breyst og hvort component eigi a uppfrast\n\t\tif (\n\t\t\tprevProps.flid != this.props.flid\n\t\t) {\n\t\t\tthis.fetchData();\n\t\t}\n\n\t\twindow.removeEventListener('resize', this.windowResizeHandler);\n\t}\n\n\twindowResizeHandler(event) {\n\t\tconsole.log('resize')\n\t\tlet mobileWidth = window.innerWidth < 550;\n\n\t\tif (mobileWidth != this.mobileWidth) {\n\t\t\tthis.mobileWidth = mobileWidth;\n\n\t\t\tthis.forceUpdate();\n\t\t}\n\t}\n\n\tfetchData() {\n\t\t// Ski ggn til APA\n\t\tthis.setState({\n\t\t\tlistData: [],\n\t\t\tfetching: true,\n\t\t});\n\n\t\tlet urlParams = [\n\t\t\t'flid='+this.props.flid\n\t\t];\n\n\t\tif (window.innerWidth < 550) {\n\t\t\turlParams.push('before=1');\n\t\t\turlParams.push('after=5');\n\t\t}\n\n\t\tfetch(this.url+'?'+urlParams.join('&'))\n\t\t\t.then(function(response) {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then(function(json) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tlistData: json.results,\n\t\t\t\t\tfetching: false\n\t\t\t\t});\n\t\t\t}.bind(this));\n\t}\n\n\trender() {\n\t\tlet currentLang = window.currentLang || 'is';\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{\n\t\t\t\t\tthis.state.listData.length > 0 &&\n\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t<ul className=\"nav nav-pills flex-column\">\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tthis.state.listData.map(function(item, index) {\n\t\t\t\t\t\t\t\t\treturn <li key={index} className={'nav-item'}>\n\t\t\t\t\t\t\t\t\t\t<Link className={'nav-link pt-1 pb-1'+(item.flid == this.props.flid ? ' active' : '')} key={index} to={'/'+currentLang+'/ord/'+item.flid+(this.props.lang ? '/tungumal/'+this.props.lang : '')}>{item.rnum ? item.rnum+' ' : ''}{item.fletta} {islexHelper.formatOfl(item.ofl)}</Link>\n\t\t\t\t\t\t\t\t\t</li>;\n\t\t\t\t\t\t\t\t}.bind(this))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nexport default TermIndexList;\n","import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\n\nimport config from './../config';\nimport islexHelper from './../islexHelper';\n\nimport _ from 'underscore';\n\nclass SimilarTerms extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.url = config.apiRoot+'/api/es/similar/';\n\n\t\tthis.fetchDelay = 100;\n\n\t\tthis.state = {\n\t\t\tlistData: []\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.mounted = true;\n\n\t\tsetTimeout(function() {\n\t\t\tif (this.mounted) {\n\t\t\t\tthis.fetchData();\n\t\t\t}\n\t\t}.bind(this), this.fetchDelay);\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.mounted = false;\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t// Skoa hvort breytur hafa breyst og hvort component eigi a uppfrast\n\t\tif (\n\t\t\tprevProps.flid != this.props.flid\n\t\t) {\n\t\t\tthis.setState({\n\t\t\t\tlistData: []\n\t\t\t});\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tif (this.mounted) {\n\t\t\t\t\tthis.fetchData();\n\t\t\t\t}\n\t\t\t}.bind(this), this.fetchDelay);\n\t\t}\n\t}\n\n\tfetchData() {\n\t\tif (this.fetching) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.fetching = true;\n\n\t\tfetch(this.url+this.props.flid)\n\t\t\t.then(function(response) {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then(function(json) {\n\t\t\t\tthis.fetching = false;\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tlistData: json.results\n\t\t\t\t});\n\t\t\t}.bind(this));\n\t}\n\n\trender() {\n\t\tlet currentLang = window.currentLang || 'is';\n\n\t\treturn (\n\t\t\t<div className={'mt-4 mb-4 fade-in-component'+(this.state.listData.length == 0 ? ' hidden' : '')}>\n\t\t\t\t<hr/>\n\t\t\t\t<strong className=\"mr-2\">{window.l('Skyldar frslur')}:</strong>\n\t\t\t\t{\n\t\t\t\t\tthis.state.listData.map(function(item, index) {\n\t\t\t\t\t\treturn <Link key={index} className=\"nav-link d-inline-block pl-0 pb-1\" to={'/'+currentLang+'/ord/'+item.flid+'/tungumal/'+(localStorage.getItem('selected-lang') || 'FRA')}>\n\t\t\t\t\t\t\t\t{item.fletta} {islexHelper.formatOfl(item.ofl)}</Link>\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t<div className=\"dict-info alert alert-info\">{window.l('Frslurnar eru nokkurs konar samheiti sem fengin eru me vlrnum htti  gegnum markmlin.')}</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SimilarTerms;\n","import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport _ from 'underscore';\n\nimport TermView from './TermView';\nimport CollapsibleCard from './CollapsibleCard';\nimport TermIndexList from './TermIndexList';\nimport SimilarTerms from './SimilarTerms';\n\nimport config from './../config';\nimport islexHelper from './../islexHelper';\n\nclass TermViewContainer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.url = config.apiRoot+'/api/es/fletta/';\n\n\t\tthis.state = {\n\t\t\tfound: true\n\t\t};\n\t}\n\n\tlistToTree(list) {\n\t\tlet map = {};\n\t\tlet item;\n\t\tlet roots = [];\n\n\t\tlet i;\n\t\tfor (i = 0; i < list.length; i += 1) {\n\t\t\tmap[list[i].itid] = i; // initialize the map\n\t\t\tlist[i].pitems = []; // initialize the children\n\t\t}\n\n\t\tfor (i = 0; i < list.length; i += 1) {\n\t\t\titem = list[i];\n\t\t\tif (item.paritem != -1) {\n\t\t\t\t// if you have dangling branches check that map[item.paritem] exists\n\t\t\t\tif (list[map[item.paritem]]) {\n\t\t\t\t\tlist[map[item.paritem]].pitems.push(item);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\troots.push(item);\n\t\t\t}\n\t\t}\n\n\t\treturn roots;\n\t}\n\n\tformatResults(data) {\n\t\treturn this.listToTree(data);\n\t}\n\n\tcomponentDidMount() {\n\t\tif (this.props.match && this.props.match.params.entry_id) {\n\t\t\tthis.fetchData();\n\t\t}\n\t}\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\t// Athuga hvort breytur hafi breyst og hvort component eigi a uppfrast\n\n\t\tif (this.props.match && this.props.match.params.entry_id &&\n\t\t\t(\n\t\t\t\tprevProps.match.params.entry_id != this.props.match.params.entry_id ||\n\t\t\t\tthis.props.match.params.lang != prevProps.match.params.lang\n\t\t\t)\n\t\t) {\n\t\t\tthis.fetchData();\n\t\t}\n\t}\n\n\tfetchData(missingTranslation) {\n\t\t// Ski ggn til APA\n\n\t\tfetch(this.url+this.props.match.params.entry_id+(this.props.match.params.lang && !missingTranslation ? '?lang='+this.props.match.params.lang : ''))\n\t\t\t.then(function(response) {\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tfound: false\n\t\t\t\t\t})\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\treturn response.json();\n\t\t\t\t}\n\t\t\t}.bind(this))\n\t\t\t.then(function(json) {\n\t\t\t\tif (json) {\n\t\t\t\t\tlet dataItem = json;\n\n\t\t\t\t\tif (dataItem.items) {\n\t\t\t\t\t\tif (!missingTranslation && !_.find(dataItem.items, function(item) {\n\t\t\t\t\t\t\treturn item.teg.toLowerCase().startsWith((this.props.match.params.lang || config.defaultLang).toLowerCase()+'-') ||\n\t\t\t\t\t\t\t\titem.teg.toLowerCase().endsWith((this.props.match.params.lang ||\n\t\t\t\t\t\t\t\tconfig.defaultLang).toLowerCase()+'-');\n\t\t\t\t\t\t}.bind(this))) {\n\t\t\t\t\t\t\tthis.fetchData(true);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (missingTranslation) {\n\t\t\t\t\t\t\tdataItem.missingTranslation = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tdataItem.items = this.formatResults(dataItem.items);\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tfound: true,\n\t\t\t\t\t\tdata: dataItem\n\t\t\t\t\t}, function() {\n\t\t\t\t\t\tif (this.props.history.location.search.indexOf('?itid=') > -1) {\n\t\t\t\t\t\t\tthis.goToItem(this.props.history.location.search.replace('?itid=', ''));\n\t\t\t\t\t\t}\n\t\t\t\t\t}.bind(this))\n\t\t\t\t}\n\t\t\t}.bind(this));\n\n\t\twindow.scrollTo(0, 0);\n\t}\n\n\tgoToItem(itid) {\n\t\tsetTimeout(function() {\n\t\t\tlet element = document.querySelector('[data-itid=\"'+itid+'\"]');\n\n\t\t\tif (element) {\n\t\t\t\telement.classList.add('item-highlight');\n\t\t\t\twindow.scrollTo(0, element.offsetTop);\n\t\t\t}\n\t\t}, 0);\n\t}\n\n\trender() {\n\t\tconsole.log(this.state.data)\n\n\t\tlet dataItem = this.state.data;\n\n\t\tlet currentLang = window.currentLang || 'is';\n\n\t\tif (!this.state.found) {\n\t\t\treturn (\n\t\t\t\t<div className=\"row mt-4\">\n\t\t\t\t\t<div className=\"col-12 col-sm-5 col-md-3\">\n\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-12 col-sm-7 col-md-9\">\n\t\t\t\t\t\t<ul className=\"list-group mb-4 dictionary-list\">\n\t\t\t\t\t\t\t<li className=\"list-group-item text-center\">\n\t\t\t\t\t\t\t\t<div className=\"h5 mt-3 mb-4\">essi frsla finnst ekki.</div>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\telse if (dataItem) {\n\t\t\tlet langButtons = [];\n\n\t\t\tfor (let lang in islexHelper.tungumal) {\n\t\t\t\tlangButtons.push(<span key={lang} className=\"nav-item\">\n\t\t\t\t\t<Link className={'nav-link'+(this.props.match.params.lang && this.props.match.params.lang == lang ? ' active' : '')}\n\t\t\t\t\t\tto={'/'+currentLang+'/ord/'+this.props.match.params.entry_id+'/tungumal/'+lang}\n\t\t\t\t\t\tonClick={\n\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\tlocalStorage.setItem('selected-lang', lang);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}>\n\t\t\t\t\t\t<img className=\"button-flag\" src={'/img/flags/'+lang+'.png'} />\n\n\t\t\t\t\t\t<span> {islexHelper.tungumal[lang].name}</span>\n\t\t\t\t\t</Link>\n\t\t\t\t</span>);\n\t\t\t}\n\n\t\t\tlangButtons.push(<span key=\"all\" className=\"nav-item\">\n\t\t\t\t<Link className={'nav-link'+(!this.props.match.params.lang || this.props.match.params.lang == '' ? ' active' : '')}\n\t\t\t\t\tto={'/'+currentLang+'/ord/'+this.props.match.params.entry_id}>\n\t\t\t\t\t{window.l('Allar')}\n\t\t\t\t</Link>\n\t\t\t</span>);\n\n\t\t\t// adj n adv v\n\n\t\t\treturn (\n\t\t\t\t<div className=\"row mt-4\">\n\n\t\t\t\t\t<div className=\"col-12 col-sm-7 col-md-9 d-flex flex-column\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.state.data &&\n\t\t\t\t\t\t\t<React.Fragment>\n\n\t\t\t\t\t\t\t\t{/*\n\n\t\t\t\t\t\t\t\tTakkar til a skipta  milli orabka\n\n\t\t\t\t\t\t\t\t*/}\n\n\t\t\t\t\t\t\t\t<div className=\"nav nav-pills\">\n\t\t\t\t\t\t\t\t\t<div className=\"navbar-text text-secondary mr-4 mb-2 d-none d-sm-block\">{window.l('Orabk')}: </div>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tlangButtons\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className={'dictionary-entry card flex-grow-1'}>\n\t\t\t\t\t\t\t\t\t<div className={'card-body'}>\n\n\t\t\t\t\t\t\t\t\t\t<TermView data={dataItem} lang={this.props.match.params.lang} />\n\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t['adj', 'n', 'adv', 'v', 'forl'].indexOf(dataItem.ofl.split(' ')[0]) > -1 &&\n\t\t\t\t\t\t\t\t\t\t\t<SimilarTerms flid={this.props.match.params.entry_id} />\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"col-12 col-sm-5 col-md-3\">\n\t\t\t\t\t\t<div className=\"index-column\">\n\n\t\t\t\t\t\t\t{/*<Link className=\"btn btn-info btn-block mb-2\" to=\"/\">&lt; {window.l('Til baka  forsu')}</Link>*/}\n\n\t\t\t\t\t\t\t<TermIndexList flid={this.props.match.params.entry_id} lang={this.props.match.params.lang} />\n\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</div>\n\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\telse {\n\t\t\treturn null;\n\t\t}\n\t}\n}\n\nexport default TermViewContainer;\n","import React, { Component } from 'react';\n\nclass StictyWatcher extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.scrollHandler = this.scrollHandler.bind(this);\n\n\t\tthis.state = {\n\t\t\textraClass: ''\n\t\t};\n\t}\n\n\tscrollHandler(event) {\n\t\tif (this.waitForNextCheck) {\n\t\t\tsetTimeout(function() {\n\t\t\t\tthis.scrollHandler(null);\n\t\t\t}.bind(this), 150);\n\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.refs.el.getBoundingClientRect().y == 0) {\n\t\t\tthis.waitForNextCheck = true;\n\n\t\t\tthis.setState({\n\t\t\t\textraClass: this.props.stickyClassName || ''\n\t\t\t});\n\n\t\t\tif (this.props.onStick) {\n\t\t\t\tthis.props.onStick();\n\t\t\t}\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tthis.waitForNextCheck = false;\n\t\t\t}.bind(this), 400);\n\t\t}\n\t\telse {\n\t\t\tthis.setState({\n\t\t\t\textraClass: ''\n\t\t\t});\n\n\t\t\tif (this.props.onUnstick) {\n\t\t\t\tthis.props.onUnstick();\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener('scroll', this.scrollHandler);\n\n\t\tthis.scrollHandler();\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('scroll', this.scrollHandler);\n\t}\n\n\trender() {\n\t\tlet TagName = this.props.tagName || 'div';\n\t\treturn (\n\t\t\t<TagName ref=\"el\" className={this.props.className+' '+this.state.extraClass}>\n\t\t\t\t{this.props.children}\n\t\t\t</TagName>\n\t\t);\n\t}\n}\n\nexport default StictyWatcher;\n","import React, { Component } from 'react';\n\nexport default function SiteFooter(props) {\n\treturn <div className=\"site-footer\">\n\t\t<div className=\"logos\">\n\t\t\t<a href=\"http://www.arnastofnun.is/\"><img src=\"/img/logo-sam.svg\" /></a>\n\t\t\t<a href=\"http://vigdis.hi.is/\"><img src=\"/img/logo-vigdis2.png\" alt=\"\" /></a>\n\t\t\t<a href=\"http://www.centrenationaldulivre.fr/\"><img src=\"/img/CNL-logo54.png\" alt=\"\" /></a>\n\t\t\t<img src=\"/img/logo-MinCulture01.png\" alt=\"\" />\n\t\t\t<img src=\"/img/logo-ministere.png\" />\n\t\t\t<a href=\"http://www.erasmusplus.is/\"><img src=\"/img/erasmus54.png\" alt=\"\" /></a>\n\t\t</div>\n\t\t<div className=\"footer-text\"> Stofnun rna Magnssonar  slenskum frum<br/>\n\t\t\t Stofnun Vigdsar Finnbogadttur  erlendum tungumlum</div>\n\t</div>;\n}\n","import React, { Component } from 'react';\nimport { Link, withRouter } from \"react-router-dom\";\n\nclass ContactForm extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.grecaptchaKey = '6Ldu6a4UAAAAANsP74uOE6741n4rw0jNDRJkmpev';\n\t\tthis.apiUrl = '//ritaskra.arnastofnun.is/api/fyrirspurnir/fyrirspurn/';\n\n\t\tthis.formInputChangeHandler = this.formInputChangeHandler.bind(this);\n\t\tthis.sendButtonClickHandler = this.sendButtonClickHandler.bind(this);\n\n\t\tthis.state = {\n\t\t\tformData: {\n\t\t\t\tsendandi: '',\n\t\t\t\tsendandi_netfang: '',\n\t\t\t\tsendandi_simanumer: '',\n\t\t\t\tskilabod: ''\n\t\t\t},\n\t\t\tgrecaptchaResponse: false,\n\t\t\tformSuccess: false\n\t\t}\n\t}\n\n\tformInputChangeHandler(event) {\n\t\tlet value = event.target.type && event.target.type == 'checkbox' ? event.target.checked : event.target.value;\n\n\t\tlet formData = this.state.formData;\n\n\t\tformData[event.target.name] = value;\n\n\t\tthis.setState({\n\t\t\tformData: formData\n\t\t});\n\t}\n\n\tvalidateForm() {\n\t\tlet validationError = [];\n\t\tif (this.state.formData.sendandi &&\n\t\t\tthis.state.formData.sendandi_netfang &&\n\t\t\tthis.validateEmail(this.state.formData.sendandi_netfang) &&\n\t\t\tthis.state.formData.skilabod\n\t\t) {\n\t\t\tthis.setState({\n\t\t\t\tvalidationError: []\n\t\t\t});\n\n\t\t\treturn true;\n\t\t}\n\t\telse {\n\t\t\tif (!this.state.formData.sendandi || !this.state.formData.skilabod) {\n\t\t\t\tvalidationError.push(this.props.messageErrorText || ' verur a skrifa nafni itt og skilabo.');\n\t\t\t}\n\t\t\tif (!this.state.formData.sendandi_netfang || !this.validateEmail(this.state.formData.sendandi_netfang)) {\n\t\t\t\tvalidationError.push(this.props.emailErrorText || ' verur a skrifa gilt netfang.');\n\t\t\t}\n\n\t\t\t//if (this.state.formData.sendandi_netfang && !nyyrdiHelper.validateEmail(this.state.formData.sendandi_netfang)) {\n\t\t\t//\tvalidationError.push(' verur a skrifa gilt netfang.');\n\t\t\t//}\n\n\t\t\tthis.setState({\n\t\t\t\tvalidationError: validationError\n\t\t\t});\n\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tprepareData(data) {\n\t\tlet ret = {};\n\n\t\tfor (let key in data) {\n\t\t\tret[key] = data[key];\n\t\t}\n\n\t\treturn ret;\n\t}\n\n\tsendButtonClickHandler(event) {\n\t\tevent.preventDefault();\n\n\t\tif (this.validateForm()) {\n\t\t\tlet formDataValues = new FormData();\n\t\t\tlet formData = this.prepareData(this.state.formData);\n\n\t\t\tfor (var key in formData) {\n\t\t\t    formDataValues.append(key, formData[key]);\n\t\t\t}\n\n\t\t\tformDataValues.append('recaptcha', this.state.grecaptchaResponse);\n\t\t\tformDataValues.append('form', this.props.formId);\n\n\t\t\tfetch(this.apiUrl, {\n\t\t\t\tmethod: 'post',\n\t\t\t\tbody: formDataValues,\n\t\t\t\tmode: 'cors'\n\t\t\t})\n\t\t\t.then(function(response) {\n\t\t\t\treturn response.json();\n\t\t\t}.bind(this))\n\t\t\t.then(function(json) {\n\t\t\t\tif (json.error) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tvalidationError: [this.props.requestErrorText || 'Villa  fyrirspurn.']\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\telse if (json.success) {\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tvalidationError: [],\n\t\t\t\t\t\tformSuccess: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\t// Undirbum grecaptcha\n\t\t\t// Skilgreinum fall sem kalla er  egar svr berast fr Google reCaptcha API\n\t\twindow.grecaptchaCallback = this.grecaptchaCallback.bind(this);\n\n\t\t// Frumstillum reCaptcha til a sj til ess a virknin veri til staar sar meir\n\t\tthis.initializeReCaptcha();\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.reCaptchaInitialized = false;\n\t}\n\n\tgrecaptchaCallback(event) {\n\t\tthis.setState({\n\t\t\tgrecaptchaResponse: event\n\t\t});\n\t}\n\n\tinitializeReCaptcha() {\n\t\tif (window.reCaptchaInitialized) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet grcInit = function() {\n\t\t\ttry {\n\t\t\t\tif (window.grecaptcha) {\n\t\t\t\t\twindow.grecaptcha.render('grecaptcha', {\n\t\t\t\t\t\tcallback: window.grecaptchaCallback,\n\t\t\t\t\t\thl: window.currentLang || 'is'\n\t\t\t\t\t});\n\n\t\t\t\t\twindow.reCaptchaInitialized = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\tsetTimeout(grcInit, 500);\n\t\t\t}\n\t\t}.bind(this);\n\n\t\tgrcInit();\n\t}\n\n\tvalidateEmail(email) {\n\t\tvar re = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n\t\treturn re.test(String(email).toLowerCase());\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<form className=\"position-relative\">\n\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"sendandi\">{this.props.nameLabel || 'Nafn'}</label>\n\t\t\t\t\t<input type=\"text\"\n\t\t\t\t\t\tvalue={this.state.formData.sendandi}\n\t\t\t\t\t\tonChange={this.formInputChangeHandler}\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tname=\"sendandi\"\n\t\t\t\t\t\tid=\"sendandi\" />\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"sendandi_netfang\">{this.props.emailLabel || 'Netfang'}</label>\n\t\t\t\t\t<input type=\"email\"\n\t\t\t\t\t\tvalue={this.state.formData.sendandi_netfang}\n\t\t\t\t\t\tonChange={this.formInputChangeHandler}\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\tname=\"sendandi_netfang\"\n\t\t\t\t\t\tid=\"sendandi_netfang\" />\n\t\t\t\t</div>\n\n\t\t\t\t{\n\t\t\t\t\tthis.props.requirePhoneNumber &&\n\t\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t\t<label htmlFor=\"sendandi_simanumer\">{this.props.phoneLabel || 'Smanmer'}</label>\n\t\t\t\t\t\t<input type=\"tel\"\n\t\t\t\t\t\t\tvalue={this.state.formData.sendandi_simanumer}\n\t\t\t\t\t\t\tonChange={this.formInputChangeHandler}\n\t\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t\t\tname=\"sendandi_simanumer\"\n\t\t\t\t\t\t\tid=\"sendandi_simanumer\" />\n\t\t\t\t\t</div>\n\t\t\t\t}\n\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label htmlFor=\"skilabod\">{this.props.messageLabel || 'Skilabo'}</label>\n\t\t\t\t\t<textarea className=\"form-control\"\n\t\t\t\t\t\tonChange={this.formInputChangeHandler}\n\t\t\t\t\t\tname=\"skilabod\"\n\t\t\t\t\t\tid=\"skilabod\"\n\t\t\t\t\t\trows=\"5\" value={this.state.formData.skilabod}></textarea>\n\t\t\t\t</div>\n\n\t\t\t\t<div id=\"grecaptcha\"\n\t\t\t\t\tclassName=\"g-recaptcha mb-3\"\n\t\t\t\t\tdata-sitekey={this.grecaptchaKey}></div>\n\n\t\t\t\t{\n\t\t\t\t\tthis.state.validationError && this.state.validationError.length > 0 &&\n\t\t\t\t\t<p><strong dangerouslySetInnerHTML={{__html: this.state.validationError.join('<br/>')}}></strong></p>\n\t\t\t\t}\n\n\t\t\t\t<button disabled={!this.state.grecaptchaResponse} type=\"submit\" className=\"btn btn-primary\" onClick={this.sendButtonClickHandler}>{this.props.sendButtonLabel || 'Senda'}</button>\n\n\t\t\t\t{\n\t\t\t\t\tthis.state.formSuccess &&\n\t\t\t\t\t<div className=\"position-absolute d-flex justify-content-center\" style={{\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\tright: 0,\n\t\t\t\t\t\tbottom: 0,\n\t\t\t\t\t\tpadding: 40,\n\t\t\t\t\t\tbackgroundColor: '#fff'\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<div className=\"align-self-center align-self-middle text-center\">\n\t\t\t\t\t\t\t<h3>{this.props.takkHeading || 'Takk fyrir'}</h3>\n\t\t\t\t\t\t\t<p>{this.props.takkText || 'Fyrirspurnin n hefur veri send og verur svara eins fljtt og aui er.'}</p>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</div>\n\t\t\t\t}\n\n\t\t\t</form>\n\t\t);\n\t}\n}\n\nexport default ContactForm;\n","import React, { Component } from 'react';\nimport { Link, withRouter } from \"react-router-dom\";\n\nimport ContactForm from './ContactForm';\n\nclass ContactFormWrapper extends Component {\n\trender() {\n\t\treturn (\n\t\t\t<div className={'card content-container mt-4 manual-init'}>\n\t\t\t\t <div className=\"page-content card-body\">\n\t\t\t\t\t\t<h2>{window.l('Hafa samband')}</h2>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t<ContactForm formId={'LEXIA'} \n\t\t\t\t\t\t\tmessageErrorText={window.l(' verur a skrifa nafni itt og skilabo.')}\n\t\t\t\t\t\t\temailErrorText={window.l(' verur a skrifa gilt netfang.')}\n\t\t\t\t\t\t\trequestErrorText={window.l('Villa  fyrirspurn.')}\n\t\t\t\t\t\t\tnameLabel={window.l('Nafn')}\n\t\t\t\t\t\t\temailLabel={window.l('Netfang')}\n\t\t\t\t\t\t\tmessageLabel={window.l('Skilabo')}\n\t\t\t\t\t\t\tsendButtonLabel={window.l('Senda')}\n\t\t\t\t\t\t\ttakkHeading={window.l('Takk fyrir')}\n\t\t\t\t\t\t\ttakkText={window.l('Fyrirspurn n hefur veri send og verur svara eins fljtt og aui er.')}\n\t\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default ContactFormWrapper;\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport config from \"./../config\";\n\nclass GoogleAnalytics extends React.Component {\n\tcomponentWillUpdate ({ location, history }) {\n\t\tconst gtag = window.gtag;\n\n\t\tif (location.pathname === this.props.location.pathname) {\n\t\t\t// don't log identical link clicks (nav links likely)\n\t\t\treturn;\n\t\t}\n\n\t\tif (history.action === 'PUSH' && typeof(gtag) === 'function') {\n\t\t\tlet pageViewData = {\n\t\t\t\t'page_title': document.title,\n\t\t\t\t'page_location': window.location.href,\n\t\t\t\t'page_path': location.pathname\n\t\t\t};\n\n\t\t\tgtag('config', config.gaTrackingId, pageViewData);\n\t\t}\n\t}\n\n\trender () {\n\t\treturn null;\n\t}\n}\n\nexport default withRouter(GoogleAnalytics);","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Link, Switch, Redirect } from \"react-router-dom\";\n\nimport SearchBox from './components/SearchBox';\nimport Frontpage from './components/Frontpage';\nimport SearchResultsList from './components/SearchResultsList';\n\nimport LangMenu from './components/LangMenu';\nimport PageMenu from './components/PageMenu';\nimport TermViewContainer from './components/TermViewContainer';\nimport StickyWatcher from './components/StickyWatcher';\nimport SiteFooter from './components/SiteFooter';\nimport PageView from './components/PageView';\nimport ContactFormWrapper from './components/ContactFormWrapper';\nimport GoogleAnalytics from './components/GoogleAnalytics';\n\nimport EventBus from 'eventbusjs';\n\nimport config from \"./config\";\nimport islexHelper from \"./islexHelper\";\n\nimport logo from './img/logo.svg';\nimport logoVigdisIs from './img/logo-vigdis-white-is.png';\nimport logoVigdisFr from './img/logo-vigdis-white-fr.png';\n\nwindow.islexHelper = islexHelper;\n\nclass App extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\twindow.eventBus = EventBus;\n\n\t\tthis.menuButtonClickHandler = this.menuButtonClickHandler.bind(this);\n\t\tthis.languageChangedHandler = this.languageChangedHandler.bind(this);\n\n\t\tthis.fetchOflTranslations();\n\n\t\tthis.state = {\n\t\t\tsearchParams: {},\n\t\t\tmenuOpen: false\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.refs.router.history.listen(function() {\n\t\t\tthis.checkCurrentLang();\n\n\t\t\tthis.setState({\n\t\t\t\tmenuOpen: false\n\t\t\t});\n\t\t}.bind(this));\n\n\t\tthis.checkCurrentLang();\n\n\t\tdocument.addEventListener('mousedown', function(event) {\n\t\t\tif (!this.state.menuOpen) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.refs.menuButton.contains(event.target)) {\n\t\t\t\tevent.stopPropagation();\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.refs.menuContent && !this.refs.menuContent.contains(event.target)) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tmenuOpen: false\n\t\t\t\t})\n\t\t\t}\n\t\t}.bind(this));\n\n\t\twindow.eventBus.addEventListener('Lang.languageChanged', this.languageChangedHandler);\n\t\twindow.eventBus.addEventListener('Lang.languageDataUpdate', function() {\n\t\t\tthis.forceUpdate();\n\t\t}.bind(this));\n\t\twindow.eventBus.addEventListener('AppMenu.close', function() {\n\t\t\tthis.setState({\n\t\t\t\tmenuOpen: false\n\t\t\t});\n\t\t}.bind(this));\n\t}\n\n\tcheckCurrentLang() {\n\t\tif (!this.refs.router) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet lang = this.refs.router.history.location.pathname.substr(1, 2);\n\n\t\twindow.Lang.setCurrentLang(lang)\n\t}\n\n\tfetchOflTranslations() {\n\t\twindow.islexData = {};\n\n\t\t// Ski nfn og ka allra tungumla\n\t\tfetch(config.apiRoot+'/api/ofltrans?limit=1000')\n\t\t\t.then(function(response) {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then(function(json) {\n\t\t\t\twindow.islexData['oflTrans'] = json.results;\n\n\t\t\t\tthis.setState({\n\t\t\t\t\toflTrans: json.results\n\t\t\t\t})\n\t\t\t}.bind(this));\n\t}\n\n\tlanguageChangedHandler() {\n\t\tthis.forceUpdate();\n\n\t\treturn\n\t\tlet path = this.refs.router.history.location.pathname.toLowerCase();\n\t\tif (path.substr(0, 5) != '/ord/' && path.substr(0, 6) != '/leit/') {\n\t\t\tthis.refs.router.history.push('/');\n\t\t}\n\t}\n\n\tmenuButtonClickHandler(event) {\n\t\tevent.stopPropagation();\n\t\tif (!this.state.menuOpen) {\n\t\t\tthis.refs.menuContent.scrollTop = 0;\n\t\t}\n\n\t\tthis.setState({\n\t\t\tmenuOpen: !this.state.menuOpen\n\t\t});\n\t}\n\n\trender() {\n\t\tlet currentLang = window.currentLang || 'is';\n\n\t\tlet currentLangIcon = <img className=\"current-lang-icon\" src={'/img/flags/'+currentLang.toUpperCase()+'.png'} />;\n\n\t\tlet langCodes = [];\n\n\t\tislexHelper.langCodes.forEach(function(langCode) {\n\t\t\tlangCodes.push(langCode);\n\t\t});\n\n\t\tlet routes = [\n\t\t\t<Route key={0} path={'/'} exact={true}>\n\t\t\t\t<Redirect to=\"/is/\" />\n\t\t\t</Route>,\n\t\t\t<Route key={1} path={'/islex'} exact={true}>\n\t\t\t\t<Redirect to=\"/is/\" />\n\t\t\t</Route>\n\t\t];\n\n\t\tlangCodes.forEach(function(langCode) {\n\t\t\troutes.push(<Route key={routes.length} path={'/'+langCode+'/'} component={Frontpage} exact={true} />);\n\t\t\troutes.push(<Route key={routes.length} exact strict path={'(/'+langCode+'/leit/)?:searchString*(/fletta/)?:fletta*(/ofl/)?:ofl*(/rnum/)?:rnum*(/leitarsvid/)?:leitarsvid*(/page/)?:page*'} render={(routeProps) => (\n\t\t\t\t<SearchResultsList onSearch={searchParams => this.setState({searchParams: searchParams})} {...routeProps} />\n\t\t\t)} />);\n\t\t\troutes.push(<Route key={routes.length} exact strict path={'(/'+langCode+'/ord/)?:entry_id*(/tungumal/)?:lang*'} render={(routeProps) => (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<TermViewContainer {...routeProps} />\n\t\t\t\t</React.Fragment>\n\t\t\t)} />);\n\t\t\troutes.push(<Route key={routes.length} exact path={'/'+langCode+'/hafa-samband'} render={(routeProps) => (\n\t\t\t\t<ContactFormWrapper />\n\t\t\t)} />);\n\t\t}.bind(this))\n\t\troutes.push(<Route key={routes.length} exact path={'/*'} render={(routeProps) => (\n\t\t\t<PageView />\n\t\t)} />);\n\n\n\t\treturn (\n\t\t\t<Router ref=\"router\">\n\t\t\t\t<React.Fragment>\n\n\t\t\t\t\t<div className={'app-wrapper'}>\n\n\t\t\t\t\t\t<div className=\"header\">\n\n\t\t\t\t\t\t\t<div className=\"container\">\n\n\t\t\t\t\t\t\t\t<img src={logo} className=\"float-right hidden-mobile-up\" />\n\n\t\t\t\t\t\t\t\t<h1 className=\"h2\">\n\t\t\t\t\t\t\t\t\t<img src={logo} className=\"mr-4 hidden-mobile\" />\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcurrentLang == 'fr' &&\n\t\t\t\t\t\t\t\t\t\t<span><small>{window.l('Le dictionnaire')}</small> {window.l('LEXIA')}</span>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcurrentLang == 'is' &&\n\t\t\t\t\t\t\t\t\t\t<span>{window.l('LEXIA')}<small>{window.l('-orabkin')}</small></span>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t<span className=\"hidden-mobile smaller\">{window.l('Stofnun rna Magnssonar  slenskum frum')}</span>\n\t\t\t\t\t\t\t\t</h1>\n\n\t\t\t\t\t\t\t\t<a href=\"https://vigdis.hi.is/\" className=\"logo-vigdis\">\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcurrentLang == 'fr' &&\n\t\t\t\t\t\t\t\t\t\t<img src={logoVigdisFr} />\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcurrentLang == 'is' &&\n\t\t\t\t\t\t\t\t\t\t<img src={logoVigdisIs} />\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</a>\n\n\t\t\t\t\t\t\t\t<PageMenu className=\"hidden-mobile\" lang={currentLang} />\n\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<StickyWatcher tagName=\"div\" className=\"search-container\" stickyClassName=\"sticky\">\n\n\t\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t\t<button className=\"btn-menu\" ref=\"menuButton\" onClick={this.menuButtonClickHandler}>\n\t\t\t\t\t\t\t\t\t<div className=\"hamburger-icon black\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"icon-middle\" />\n\t\t\t\t\t\t\t\t\t\t<div className=\"icon-before-after\" />\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcurrentLangIcon\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t\t<SearchBox searchString={this.state.searchParams.searchString || ''} />\n\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t</StickyWatcher>\n\n\t\t\t\t\t\t<div className=\"container pb-4\">\n\n\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\troutes\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Switch>\n\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<SiteFooter />\n\n\t\t\t\t\t<div className={'app-menu'+(this.state.menuOpen ? ' open' : '')} ref=\"menuContent\">\n\t\t\t\t\t\t<div className=\"container\">\n\n\t\t\t\t\t\t\t<button className=\"btn btn-link float-right\" onClick={\n\t\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tmenuOpen: false\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}.bind(this)}>\n\t\t\t\t\t\t\t\t<div className=\"hamburger-icon black open\">\n\t\t\t\t\t\t\t\t\t<div className=\"icon-middle\" />\n\t\t\t\t\t\t\t\t\t<div className=\"icon-before-after\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t\t<h5 className=\"mb-4 pt-2\">\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tcurrentLang == 'fr' &&\n\t\t\t\t\t\t\t\t\t<span>{window.l('Le dictionnaire')} {window.l('LEXIA')}</span>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tcurrentLang == 'is' &&\n\t\t\t\t\t\t\t\t\t<span>{window.l('LEXIA')}{window.l('-orabkin')}</span>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</h5>\n\n\t\t\t\t\t\t\t<PageMenu className=\"hidden-mobile-up\" lang={currentLang} />\n\n\t\t\t\t\t\t\t<h6>{window.l('Tunguml')}</h6>\n\t\t\t\t\t\t\t<LangMenu />\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{\n\t\t\t\t\t\t/*\n\t\t\t\t\t<GoogleAnalytics />\n\t\t\t\t\t\t*/\n\t\t\t\t\t}\n\n\t\t\t\t</React.Fragment>\n\t\t\t</Router>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","//import langData from './langData';\nimport config from '../config';\nimport _ from 'underscore';\n\nconst defaultLang = 'is';\n\nlet langData = {\n\t'is': {},\n\t'fr': {},\n\t'de': {}\n}\n\nwindow.langData = langData;\n\nexport default {\n\tcollect: false,\n\n\tsetCurrentLang: function(lang) {\n\t\tif (!langData[lang]) {\n\t\t\treturn;\n\t\t}\n\n\t\twindow.currentLang = lang;\n\n\t\tif (window.eventBus) {\n\t\t\twindow.eventBus.dispatch('Lang.languageChanged');\n\t\t}\n\t},\n\n\tfetchLangData: function() {\n\t\tfetch(config.islexRoot+'/api/trans/?limit=2000')\n\t\t\t.then(function(response) {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.then(function(json) {\n\t\t\t\t_.each(json.results, function(item) {\n\t\t\t\t\tif (langData[item.mal]) {\n\t\t\t\t\t\tlangData[item.mal][item.val] = item.trans;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\twindow.eventBus.dispatch('Lang.languageDataUpdate');\n\t\t\t});\n\t},\n\n\tget: function(phrase) {\n\t\tif (window.traceLangGet) {\n\t\t\tconsole.log('Lang.get: '+phrase);\n\t\t}\n\n\t\tif (!window.currentLang) {\n\t\t\twindow.currentLang = defaultLang;\n\t\t}\n\n\t\tif (this.collect) {\n\t\t\tif (!this.notFound) {\n\t\t\t\tthis.notFound = [];\n\t\t\t}\n\n\t\t\tif (!langData[window.currentLang] || !langData[window.currentLang][phrase]) {\n\t\t\t\tif (this.notFound.indexOf(phrase) == -1) {\n\t\t\t\t\tthis.notFound.push(phrase);\n\t\t\t\t\tconsole.log('Did not find translation for \"'+phrase+'\"');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn !langData[window.currentLang] || !langData[window.currentLang][phrase] ? phrase : langData[window.currentLang][phrase];\n\t}\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport Lang from './lang/Lang';\nimport 'whatwg-fetch';\nimport Promise from 'promise-polyfill'; \n\n/*\nObject.assign polyfill\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n*/\nif (typeof Object.assign != 'function') {\n\t// Must be writable: true, enumerable: false, configurable: true\n\tObject.defineProperty(Object, \"assign\", {\n\t\tvalue: function assign(target, varArgs) { // .length of function is 2\n\t\t\t'use strict';\n\t\t\tif (target == null) { // TypeError if undefined or null\n\t\t\t\tthrow new TypeError('Cannot convert undefined or null to object');\n\t\t\t}\n\n\t\t\tvar to = Object(target);\n\n\t\t\tfor (var index = 1; index < arguments.length; index++) {\n\t\t\t\tvar nextSource = arguments[index];\n\n\t\t\t\tif (nextSource != null) { // Skip over if undefined or null\n\t\t\t\t\tfor (var nextKey in nextSource) {\n\t\t\t\t\t\t// Avoid bugs when hasOwnProperty is shadowed\n\t\t\t\t\t\tif (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n\t\t\t\t\t\t\tto[nextKey] = nextSource[nextKey];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn to;\n\t\t},\n\t\twritable: true,\n\t\tconfigurable: true\n\t});\n}\n\n// IE 11 backwards compatibility\nif (!window.Promise) {\n\twindow.Promise = Promise;\n}\n\n//let hostname = window.location.hostname.split('.');\n\nif (window.location.pathname && window.location.pathname.match(/\\/[a-z]{2}\\//)) {\n\tLang.setCurrentLang(window.location.pathname.match(/\\/([a-z]{2})\\//)[1]);\n}\n\nLang.fetchLangData();\n\nwindow.Lang = Lang;\nwindow.l = function(phrase) {\n\treturn Lang.get(phrase);\n}\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}